import './polyfills.server.mjs';
import{$ as Le,A as Qt,B as Jt,Ba as Dn,C as Ya,Ca as te,D as dr,Da as Sn,E as Wa,Ea as Tt,F as Xa,Fa as il,G as Za,Ga as wt,H as hr,Ha as ue,I as Ka,Ia as rl,J as et,Ja as ol,K as le,L as B,M as P,Ma as sl,N as si,O as we,P as Ve,Q as Pe,Qa as al,R as fr,S as dt,T as rn,Ta as ll,U as $,V as zt,W as Qa,X as Po,Y as V,Z as R,_ as j,a as La,aa as Lo,b as ri,ba as Ja,c as Ba,ca as Q,d as ja,da as ft,e as za,ea as pr,f as kn,fa as mr,g as $a,ga as Bo,h as Ga,ha as jo,i as Ha,ia as zo,j as Ro,ja as tl,k as Vo,ka as Z,l as qa,la as Be,m as cr,ma as yt,n as Ua,na as gt,o as ur,oa as on,p as nn,q as Vt,r as Zt,s as jt,t as rt,u as oi,v as ut,va as ce,w as mt,wa as el,x as Kt,xa as nl,y as Yt,ya as $o,z as ne,za as In}from"./chunk-DMV3NCEI.mjs";import{a as ct,b as en,k as Pa}from"./chunk-VVCT4QZE.mjs";var gl=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(P(le),P(et))},e.\u0275dir=Yt({type:e});let t=e;return t})(),Yo=(()=>{let e=class e extends gl{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=dr(e)))(o||e)}})(),e.\u0275dir=Yt({type:e,features:[Pe]});let t=e;return t})(),Nn=new jt(""),Vh={provide:Nn,useExisting:nn(()=>Wo),multi:!0},Wo=(()=>{let e=class e extends Yo{writeValue(n){this.setProperty("checked",n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=dr(e)))(o||e)}})(),e.\u0275dir=Yt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&Q("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[yt([Vh]),Pe]});let t=e;return t})(),Ph={provide:Nn,useExisting:nn(()=>yr),multi:!0};function Lh(){let t=$o()?$o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Bh=new jt(""),yr=(()=>{let e=class e extends gl{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Lh())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(P(le),P(et),P(Bh,8))},e.\u0275dir=Yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Q("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[yt([Ph]),Pe]});let t=e;return t})();var Xo=new jt(""),jh=new jt("");function _l(t){return t!=null}function vl(t){return Ja(t)?ja(t):t}function yl(t){let e={};return t.forEach(r=>{e=r!=null?ct(ct({},e),r):e}),Object.keys(e).length===0?null:e}function bl(t,e){return e.map(r=>r(t))}function zh(t){return!t.validate}function xl(t){return t.map(e=>zh(e)?e:r=>e.validate(r))}function $h(t){if(!t)return null;let e=t.filter(_l);return e.length==0?null:function(r){return yl(bl(r,e))}}function wl(t){return t!=null?$h(xl(t)):null}function Gh(t){if(!t)return null;let e=t.filter(_l);return e.length==0?null:function(r){let n=bl(r,e).map(vl);return Ha(n).pipe(kn(yl))}}function Cl(t){return t!=null?Gh(xl(t)):null}function cl(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Hh(t){return t._rawValidators}function qh(t){return t._rawAsyncValidators}function Go(t){return t?Array.isArray(t)?t:[t]:[]}function _r(t,e){return Array.isArray(t)?t.includes(e):t===e}function ul(t,e){let r=Go(e);return Go(t).forEach(i=>{_r(r,i)||r.push(i)}),r}function dl(t,e){return Go(e).filter(r=>!_r(t,r))}var vr=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},Ho=class extends vr{get formDirective(){return null}get path(){return null}},On=class extends vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qo=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Uh={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},q0=en(ct({},Uh),{"[class.ng-submitted]":"isSubmitted"}),br=(()=>{let e=class e extends qo{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(P(On,2))},e.\u0275dir=Yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&zt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Pe]});let t=e;return t})();var ai="VALID",gr="INVALID",Tn="PENDING",li="DISABLED";function Yh(t){return(xr(t)?t.validators:t)||null}function Wh(t){return Array.isArray(t)?wl(t):t||null}function Xh(t,e){return(xr(e)?e.asyncValidators:t)||null}function Zh(t){return Array.isArray(t)?Cl(t):t||null}function xr(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Uo=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ai}get invalid(){return this.status===gr}get pending(){return this.status==Tn}get disabled(){return this.status===li}get enabled(){return this.status!==li}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ul(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ul(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dl(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dl(e,this._rawAsyncValidators))}hasValidator(e){return _r(this._rawValidators,e)}hasAsyncValidator(e){return _r(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Tn,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=li,this.errors=null,this._forEachChild(n=>{n.disable(en(ct({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(en(ct({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=ai,this._forEachChild(n=>{n.enable(en(ct({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(en(ct({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ai||this.status===Tn)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?li:ai}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Tn,this._hasOwnPendingAsyncValidator=!0;let r=vl(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?li:this.errors?gr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tn)?Tn:this._anyControlsHaveStatus(gr)?gr:ai}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xr(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Wh(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Zh(this._rawAsyncValidators)}};var Zo=new jt("CallSetDisabledState",{providedIn:"root",factory:()=>wr}),wr="always";function Kh(t,e){return[...e.path,t]}function Qh(t,e,r=wr){tf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ef(t,e),rf(t,e),nf(t,e),Jh(t,e)}function hl(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Jh(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function tf(t,e){let r=Hh(t);e.validator!==null?t.setValidators(cl(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=qh(t);e.asyncValidator!==null?t.setAsyncValidators(cl(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();hl(e._rawValidators,i),hl(e._rawAsyncValidators,i)}function ef(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ml(t,e)})}function nf(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ml(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ml(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rf(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function of(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function sf(t){return Object.getPrototypeOf(t.constructor)===Yo}function af(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(o=>{o.constructor===yr?r=o:sf(o)?n=o:i=o}),i||n||r||null}function fl(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function pl(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var lf=class extends Uo{constructor(e=null,r,n){super(Yh(r),Xh(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xr(r)&&(r.nonNullable||r.initialValueIsDefault)&&(pl(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pl(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var cf={provide:On,useExisting:nn(()=>ci)},ml=Promise.resolve(),ci=(()=>{let e=class e extends On{constructor(n,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new lf,this._registered=!1,this.name="",this.update=new we,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=af(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),of(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Qh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){ml.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&ce(i);ml.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Kh(n,this._parent):[n]}};e.\u0275fac=function(i){return new(i||e)(P(Ho,9),P(Xo,10),P(jh,10),P(Nn,10),P(si,8),P(Zo,8))},e.\u0275dir=Yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ut.None,"disabled","isDisabled"],model:[ut.None,"ngModel","model"],options:[ut.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yt([cf]),Pe,ne]});let t=e;return t})();var uf={provide:Nn,useExisting:nn(()=>Ko),multi:!0};var df=(()=>{let e=class e{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ko=(()=>{let e=class e extends Yo{constructor(n,i,o,s){super(n,i),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=oi(Zo,{optional:!0})??wr}ngOnInit(){this._control=this._injector.get(On),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(P(le),P(et),P(df),P(Xa))},e.\u0275dir=Yt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&Q("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[yt([uf]),Pe]});let t=e;return t})();var hf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Zt({});let t=e;return t})();var de=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Zo,useValue:n.callSetDisabledState??wr}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Zt({imports:[hf]});let t=e;return t})();function he(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qo(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cr(t){let e,r,n;t.length!==2?(e=he,r=(a,c)=>he(t(a),c),n=(a,c)=>t(a)-c):(e=t===he||t===Qo?t:ff,r=t,n=t);function i(a,c,u=0,l=a.length){if(u<l){if(e(c,c)!==0)return l;do{let d=u+l>>>1;r(a[d],c)<0?u=d+1:l=d}while(u<l)}return u}function o(a,c,u=0,l=a.length){if(u<l){if(e(c,c)!==0)return l;do{let d=u+l>>>1;r(a[d],c)<=0?u=d+1:l=d}while(u<l)}return u}function s(a,c,u=0,l=a.length){let d=i(a,c,u,l-1);return d>u&&n(a[d-1],c)>-n(a[d],c)?d-1:d}return{left:i,center:s,right:o}}function ff(){return 0}function Mr(t){return t===null?NaN:+t}function*Al(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}var kl=Cr(he),Il=kl.right,pf=kl.left,mf=Cr(Mr).center,sn=Il;function Jo(t,e){let r=0;if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&++r}return r}function $t(t,e){let r,n;if(e===void 0)for(let i of t)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}var Wt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let r=this._partials,n=0;for(let i=0;i<this._n&&i<32;i++){let o=r[i],s=e+o,a=Math.abs(e)<Math.abs(o)?e-(s-o):o-(s-e);a&&(r[n++]=a),e=s}return r[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,r=this._n,n,i,o,s=0;if(r>0){for(s=e[--r];r>0&&(n=s,i=e[--r],s=n+i,o=i-(s-n),!o););r>0&&(o<0&&e[r-1]<0||o>0&&e[r-1]>0)&&(i=o*2,n=s+i,i==n-s&&(s=n))}return s}};var Fn=class extends Map{constructor(e,r=vf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(let[n,i]of e)this.set(n,i)}get(e){return super.get(Dl(this,e))}has(e){return super.has(Dl(this,e))}set(e,r){return super.set(gf(this,e),r)}delete(e){return super.delete(_f(this,e))}};function Dl({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):r}function gf({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function _f({_intern:t,_key:e},r){let n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function vf(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ts(t){return t}function Sl(t=he){if(t===he)return es;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{let n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function es(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var Tl=Array.prototype,Ol=Tl.slice,d_=Tl.map;function ui(t){return()=>t}var yf=Math.sqrt(50),bf=Math.sqrt(10),xf=Math.sqrt(2);function Er(t,e,r){let n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=yf?10:o>=bf?5:o>=xf?2:1,a,c,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=r&&r<2?Er(t,e,r*2):[a,c,u]}function Rn(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];let n=e<t,[i,o,s]=n?Er(e,t,r):Er(t,e,r);if(!(o>=i))return[];let a=o-i+1,c=new Array(a);if(n)if(s<0)for(let u=0;u<a;++u)c[u]=(o-u)/-s;else for(let u=0;u<a;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)c[u]=(i+u)/-s;else for(let u=0;u<a;++u)c[u]=(i+u)*s;return c}function fe(t,e,r){return e=+e,t=+t,r=+r,Er(t,e,r)[2]}function ns(t,e,r){e=+e,t=+t,r=+r;let n=e<t,i=n?fe(e,t,r):fe(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function is(t,e,r){let n;for(;;){let i=fe(t,e,r);if(i===n||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),n=i}}function rs(t){return Math.max(1,Math.ceil(Math.log(Jo(t))/Math.LN2)+1)}function di(){var t=ts,e=$t,r=rs;function n(i){Array.isArray(i)||(i=Array.from(i));var o,s=i.length,a,c,u=new Array(s);for(o=0;o<s;++o)u[o]=t(i[o],o,i);var l=e(u),d=l[0],h=l[1],f=r(u,d,h);if(!Array.isArray(f)){let C=h,_=+f;if(e===$t&&([d,h]=is(d,h,_)),f=Rn(d,h,_),f[0]<=d&&(c=fe(d,h,_)),f[f.length-1]>=h)if(C>=h&&e===$t){let b=fe(d,h,_);isFinite(b)&&(b>0?h=(Math.floor(h/b)+1)*b:b<0&&(h=(Math.ceil(h*-b)+1)/-b))}else f.pop()}for(var p=f.length,g=0,m=p;f[g]<=d;)++g;for(;f[m-1]>h;)--m;(g||m<p)&&(f=f.slice(g,m),p=m-g);var v=new Array(p+1),y;for(o=0;o<=p;++o)y=v[o]=[],y.x0=o>0?f[o-1]:d,y.x1=o<p?f[o]:h;if(isFinite(c)){if(c>0)for(o=0;o<s;++o)(a=u[o])!=null&&d<=a&&a<=h&&v[Math.min(p,Math.floor((a-d)/c))].push(i[o]);else if(c<0){for(o=0;o<s;++o)if((a=u[o])!=null&&d<=a&&a<=h){let C=Math.floor((d-a)*c);v[Math.min(p,C+(f[C]<=a))].push(i[o])}}}else for(o=0;o<s;++o)(a=u[o])!=null&&d<=a&&a<=h&&v[sn(f,a,0,p)].push(i[o]);return v}return n.value=function(i){return arguments.length?(t=typeof i=="function"?i:ui(i),n):t},n.domain=function(i){return arguments.length?(e=typeof i=="function"?i:ui([i[0],i[1]]),n):e},n.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:ui(Array.isArray(i)?Ol.call(i):i),n):r},n}function nt(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function ot(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function Ar(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?es:Sl(i);n>r;){if(n-r>600){let c=n-r+1,u=e-r+1,l=Math.log(c),d=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*d*(c-d)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(e-u*d/c+h)),p=Math.min(n,Math.floor(e+(c-u)*d/c+h));Ar(t,e,f,p,i)}let o=t[e],s=r,a=n;for(hi(t,r,e),i(t[n],o)>0&&hi(t,r,n);s<a;){for(hi(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[r],o)===0?hi(t,r,a):(++a,hi(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function hi(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function kr(t,e,r){if(t=Float64Array.from(Al(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return ot(t);if(e>=1)return nt(t);var n,i=(n-1)*e,o=Math.floor(i),s=nt(Ar(t,o).subarray(0,o+1)),a=ot(t.subarray(o+1));return s+(a-s)*(i-o)}}function*wf(t){for(let e of t)yield*Pa(e)}function Vn(t){return Array.from(wf(t))}function Ir(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Nl(t){return t}var os=1,ss=2,as=3,fi=4,Fl=1e-6;function Cf(t){return"translate("+t+",0)"}function Mf(t){return"translate(0,"+t+")"}function Ef(t){return e=>+t(e)}function Af(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function kf(){return!this.__axis}function Rl(t,e){var r=[],n=null,i=null,o=6,s=6,a=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===os||t===fi?-1:1,l=t===fi||t===ss?"x":"y",d=t===os||t===as?Cf:Mf;function h(f){var p=n??(e.ticks?e.ticks.apply(e,r):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,r):Nl),m=Math.max(o,0)+a,v=e.range(),y=+v[0]+c,C=+v[v.length-1]+c,_=(e.bandwidth?Af:Ef)(e.copy(),c),b=f.selection?f.selection():f,A=b.selectAll(".domain").data([null]),k=b.selectAll(".tick").data(p,e).order(),E=k.exit(),x=k.enter().append("g").attr("class","tick"),M=k.select("line"),w=k.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(x),M=M.merge(x.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),w=w.merge(x.append("text").attr("fill","currentColor").attr(l,u*m).attr("dy",t===os?"0em":t===as?"0.71em":"0.32em")),f!==b&&(A=A.transition(f),k=k.transition(f),M=M.transition(f),w=w.transition(f),E=E.transition(f).attr("opacity",Fl).attr("transform",function(O){return isFinite(O=_(O))?d(O+c):this.getAttribute("transform")}),x.attr("opacity",Fl).attr("transform",function(O){var D=this.parentNode.__axis;return d((D&&isFinite(D=D(O))?D:_(O))+c)})),E.remove(),A.attr("d",t===fi||t===ss?s?"M"+u*s+","+y+"H"+c+"V"+C+"H"+u*s:"M"+c+","+y+"V"+C:s?"M"+y+","+u*s+"V"+c+"H"+C+"V"+u*s:"M"+y+","+c+"H"+C),k.attr("opacity",1).attr("transform",function(O){return d(_(O)+c)}),M.attr(l+"2",u*o),w.attr(l,u*m).text(g),b.filter(kf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ss?"start":t===fi?"end":"middle"),b.each(function(){this.__axis=_})}return h.scale=function(f){return arguments.length?(e=f,h):e},h.ticks=function(){return r=Array.from(arguments),h},h.tickArguments=function(f){return arguments.length?(r=f==null?[]:Array.from(f),h):r.slice()},h.tickValues=function(f){return arguments.length?(n=f==null?null:Array.from(f),h):n&&n.slice()},h.tickFormat=function(f){return arguments.length?(i=f,h):i},h.tickSize=function(f){return arguments.length?(o=s=+f,h):o},h.tickSizeInner=function(f){return arguments.length?(o=+f,h):o},h.tickSizeOuter=function(f){return arguments.length?(s=+f,h):s},h.tickPadding=function(f){return arguments.length?(a=+f,h):a},h.offset=function(f){return arguments.length?(c=+f,h):c},h}function lt(t){return Rl(as,t)}function J(t){return Rl(fi,t)}var If={value:()=>{}};function Pl(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Dr(r)}function Dr(t){this._=t}function Df(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Dr.prototype=Pl.prototype={constructor:Dr,on:function(t,e){var r=this._,n=Df(t+"",r),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(t=n[o]).type)&&(i=Sf(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=n[o]).type)r[i]=Vl(r[i],t.name,e);else if(e==null)for(i in r)r[i]=Vl(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Dr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,i=o.length;n<i;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};function Sf(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function Vl(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=If,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var an=Pl;var Sr="http://www.w3.org/1999/xhtml",ls={svg:"http://www.w3.org/2000/svg",xhtml:Sr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ce(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),ls.hasOwnProperty(e)?{space:ls[e],local:t}:t}function Tf(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Sr&&e.documentElement.namespaceURI===Sr?e.createElement(t):e.createElementNS(r,t)}}function Of(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Tr(t){var e=Ce(t);return(e.local?Of:Tf)(e)}function Nf(){}function ln(t){return t==null?Nf:function(){return this.querySelector(t)}}function Ll(t){typeof t!="function"&&(t=ln(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],s=o.length,a=n[i]=new Array(s),c,u,l=0;l<s;++l)(c=o[l])&&(u=t.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new st(n,this._parents)}function pi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ff(){return[]}function mi(t){return t==null?Ff:function(){return this.querySelectorAll(t)}}function Rf(t){return function(){return pi(t.apply(this,arguments))}}function Bl(t){typeof t=="function"?t=Rf(t):t=mi(t);for(var e=this._groups,r=e.length,n=[],i=[],o=0;o<r;++o)for(var s=e[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(n.push(t.call(c,c.__data__,u,s)),i.push(c));return new st(n,i)}function gi(t){return function(){return this.matches(t)}}function Or(t){return function(e){return e.matches(t)}}var Vf=Array.prototype.find;function Pf(t){return function(){return Vf.call(this.children,t)}}function Lf(){return this.firstElementChild}function jl(t){return this.select(t==null?Lf:Pf(typeof t=="function"?t:Or(t)))}var Bf=Array.prototype.filter;function jf(){return Array.from(this.children)}function zf(t){return function(){return Bf.call(this.children,t)}}function zl(t){return this.selectAll(t==null?jf:zf(typeof t=="function"?t:Or(t)))}function $l(t){typeof t!="function"&&(t=gi(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],s=o.length,a=n[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new st(n,this._parents)}function Nr(t){return new Array(t.length)}function Gl(){return new st(this._enter||this._groups.map(Nr),this._parents)}function _i(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_i.prototype={constructor:_i,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Hl(t){return function(){return t}}function $f(t,e,r,n,i,o){for(var s=0,a,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],n[s]=a):r[s]=new _i(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function Gf(t,e,r,n,i,o,s){var a,c,u=new Map,l=e.length,d=o.length,h=new Array(l),f;for(a=0;a<l;++a)(c=e[a])&&(h[a]=f=s.call(c,c.__data__,a,e)+"",u.has(f)?i[a]=c:u.set(f,c));for(a=0;a<d;++a)f=s.call(t,o[a],a,o)+"",(c=u.get(f))?(n[a]=c,c.__data__=o[a],u.delete(f)):r[a]=new _i(t,o[a]);for(a=0;a<l;++a)(c=e[a])&&u.get(h[a])===c&&(i[a]=c)}function Hf(t){return t.__data__}function ql(t,e){if(!arguments.length)return Array.from(this,Hf);var r=e?Gf:$f,n=this._parents,i=this._groups;typeof t!="function"&&(t=Hl(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=n[u],d=i[u],h=d.length,f=qf(t.call(l,l&&l.__data__,u,n)),p=f.length,g=a[u]=new Array(p),m=s[u]=new Array(p),v=c[u]=new Array(h);r(l,d,g,m,v,f,e);for(var y=0,C=0,_,b;y<p;++y)if(_=g[y]){for(y>=C&&(C=y+1);!(b=m[C])&&++C<p;);_._next=b||null}}return s=new st(s,n),s._enter=a,s._exit=c,s}function qf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ul(){return new st(this._exit||this._groups.map(Nr),this._parents)}function Yl(t,e,r){var n=this.enter(),i=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function Wl(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=r[c],l=n[c],d=u.length,h=a[c]=new Array(d),f,p=0;p<d;++p)(f=u[p]||l[p])&&(h[p]=f);for(;c<i;++c)a[c]=r[c];return new st(a,this._parents)}function Xl(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Zl(t){t||(t=Uf);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var s=r[o],a=s.length,c=i[o]=new Array(a),u,l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(e)}return new st(i,this._parents).order()}function Uf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Kl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ql(){return Array.from(this)}function Jl(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function tc(){let t=0;for(let e of this)++t;return t}function ec(){return!this.node()}function nc(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Yf(t){return function(){this.removeAttribute(t)}}function Wf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xf(t,e){return function(){this.setAttribute(t,e)}}function Zf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kf(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Qf(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function ic(t,e){var r=Ce(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Wf:Yf:typeof e=="function"?r.local?Qf:Kf:r.local?Zf:Xf)(r,e))}function Fr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Jf(t){return function(){this.style.removeProperty(t)}}function tp(t,e,r){return function(){this.style.setProperty(t,e,r)}}function ep(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function rc(t,e,r){return arguments.length>1?this.each((e==null?Jf:typeof e=="function"?ep:tp)(t,e,r??"")):je(this.node(),t)}function je(t,e){return t.style.getPropertyValue(e)||Fr(t).getComputedStyle(t,null).getPropertyValue(e)}function np(t){return function(){delete this[t]}}function ip(t,e){return function(){this[t]=e}}function rp(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function oc(t,e){return arguments.length>1?this.each((e==null?np:typeof e=="function"?rp:ip)(t,e)):this.node()[t]}function sc(t){return t.trim().split(/^|\s+/)}function cs(t){return t.classList||new ac(t)}function ac(t){this._node=t,this._names=sc(t.getAttribute("class")||"")}ac.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lc(t,e){for(var r=cs(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function cc(t,e){for(var r=cs(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function op(t){return function(){lc(this,t)}}function sp(t){return function(){cc(this,t)}}function ap(t,e){return function(){(e.apply(this,arguments)?lc:cc)(this,t)}}function uc(t,e){var r=sc(t+"");if(arguments.length<2){for(var n=cs(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?ap:e?op:sp)(r,e))}function lp(){this.textContent=""}function cp(t){return function(){this.textContent=t}}function up(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function dc(t){return arguments.length?this.each(t==null?lp:(typeof t=="function"?up:cp)(t)):this.node().textContent}function dp(){this.innerHTML=""}function hp(t){return function(){this.innerHTML=t}}function fp(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function hc(t){return arguments.length?this.each(t==null?dp:(typeof t=="function"?fp:hp)(t)):this.node().innerHTML}function pp(){this.nextSibling&&this.parentNode.appendChild(this)}function fc(){return this.each(pp)}function mp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pc(){return this.each(mp)}function mc(t){var e=typeof t=="function"?t:Tr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function gp(){return null}function gc(t,e){var r=typeof t=="function"?t:Tr(t),n=e==null?gp:typeof e=="function"?e:ln(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function _p(){var t=this.parentNode;t&&t.removeChild(this)}function _c(){return this.each(_p)}function vp(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yp(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vc(t){return this.select(t?yp:vp)}function yc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function bp(t){return function(e){t.call(this,e,this.__data__)}}function xp(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function wp(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,o;r<i;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function Cp(t,e,r){return function(){var n=this.__on,i,o=bp(e);if(n){for(var s=0,a=n.length;s<a;++s)if((i=n[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=e;return}}this.addEventListener(t.type,o,r),i={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(i):this.__on=[i]}}function bc(t,e,r){var n=xp(t+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,l;c<u;++c)for(i=0,l=a[c];i<o;++i)if((s=n[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=e?Cp:wp,i=0;i<o;++i)this.each(a(n[i],e,r));return this}function xc(t,e,r){var n=Fr(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Mp(t,e){return function(){return xc(this,t,e)}}function Ep(t,e){return function(){return xc(this,t,e.apply(this,arguments))}}function wc(t,e){return this.each((typeof e=="function"?Ep:Mp)(t,e))}function*Cc(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length,s;i<o;++i)(s=n[i])&&(yield s)}var vi=[null];function st(t,e){this._groups=t,this._parents=e}function Mc(){return new st([[document.documentElement]],vi)}function Ap(){return this}st.prototype=Mc.prototype={constructor:st,select:Ll,selectAll:Bl,selectChild:jl,selectChildren:zl,filter:$l,data:ql,enter:Gl,exit:Ul,join:Yl,merge:Wl,selection:Ap,order:Xl,sort:Zl,call:Kl,nodes:Ql,node:Jl,size:tc,empty:ec,each:nc,attr:ic,style:rc,property:oc,classed:uc,text:dc,html:hc,raise:fc,lower:pc,append:mc,insert:gc,remove:_c,clone:vc,datum:yc,on:bc,dispatch:wc,[Symbol.iterator]:Cc};var Me=Mc;function I(t){return typeof t=="string"?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],vi)}function Ec(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ee(t,e){if(t=Ec(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function ze(t){return typeof t=="string"?new st([document.querySelectorAll(t)],[document.documentElement]):new st([pi(t)],vi)}var Ac={passive:!1},cn={capture:!0,passive:!1};function Rr(t){t.stopImmediatePropagation()}function $e(t){t.preventDefault(),t.stopImmediatePropagation()}function yi(t){var e=t.document.documentElement,r=I(t).on("dragstart.drag",$e,cn);"onselectstart"in e?r.on("selectstart.drag",$e,cn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function bi(t,e){var r=t.document.documentElement,n=I(t).on("dragstart.drag",null);e&&(n.on("click.drag",$e,cn),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var xi=t=>()=>t;function wi(t,{sourceEvent:e,subject:r,target:n,identifier:i,active:o,x:s,y:a,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}wi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function kp(t){return!t.ctrlKey&&!t.button}function Ip(){return this.parentNode}function Dp(t,e){return e??{x:t.x,y:t.y}}function Sp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ge(){var t=kp,e=Ip,r=Dp,n=Sp,i={},o=an("start","drag","end"),s=0,a,c,u,l,d=0;function h(_){_.on("mousedown.drag",f).filter(n).on("touchstart.drag",m).on("touchmove.drag",v,Ac).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(_,b){if(!(l||!t.call(this,_,b))){var A=C(this,e.call(this,_,b),_,b,"mouse");A&&(I(_.view).on("mousemove.drag",p,cn).on("mouseup.drag",g,cn),yi(_.view),Rr(_),u=!1,a=_.clientX,c=_.clientY,A("start",_))}}function p(_){if($e(_),!u){var b=_.clientX-a,A=_.clientY-c;u=b*b+A*A>d}i.mouse("drag",_)}function g(_){I(_.view).on("mousemove.drag mouseup.drag",null),bi(_.view,u),$e(_),i.mouse("end",_)}function m(_,b){if(t.call(this,_,b)){var A=_.changedTouches,k=e.call(this,_,b),E=A.length,x,M;for(x=0;x<E;++x)(M=C(this,k,_,b,A[x].identifier,A[x]))&&(Rr(_),M("start",_,A[x]))}}function v(_){var b=_.changedTouches,A=b.length,k,E;for(k=0;k<A;++k)(E=i[b[k].identifier])&&($e(_),E("drag",_,b[k]))}function y(_){var b=_.changedTouches,A=b.length,k,E;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),k=0;k<A;++k)(E=i[b[k].identifier])&&(Rr(_),E("end",_,b[k]))}function C(_,b,A,k,E,x){var M=o.copy(),w=Ee(x||A,b),O,D,T;if((T=r.call(_,new wi("beforestart",{sourceEvent:A,target:h,identifier:E,active:s,x:w[0],y:w[1],dx:0,dy:0,dispatch:M}),k))!=null)return O=T.x-w[0]||0,D=T.y-w[1]||0,function S(F,L,z){var N=w,G;switch(F){case"start":i[E]=S,G=s++;break;case"end":delete i[E],--s;case"drag":w=Ee(z||L,b),G=s;break}M.call(F,_,new wi(F,{sourceEvent:L,subject:T,target:h,identifier:E,active:G,x:w[0]+O,y:w[1]+D,dx:w[0]-N[0],dy:w[1]-N[1],dispatch:M}),k)}}return h.filter=function(_){return arguments.length?(t=typeof _=="function"?_:xi(!!_),h):t},h.container=function(_){return arguments.length?(e=typeof _=="function"?_:xi(_),h):e},h.subject=function(_){return arguments.length?(r=typeof _=="function"?_:xi(_),h):r},h.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:xi(!!_),h):n},h.on=function(){var _=o.on.apply(o,arguments);return _===o?h:_},h.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,h):Math.sqrt(d)},h}function Vr(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function us(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ei(){}var Ci=.7,Br=1/Ci,Pn="\\s*([+-]?\\d+)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tp=/^#([0-9a-f]{3,8})$/,Op=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),Np=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),Fp=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${Mi}\\)$`),Rp=new RegExp(`^rgba\\(${pe},${pe},${pe},${Mi}\\)$`),Vp=new RegExp(`^hsl\\(${Mi},${pe},${pe}\\)$`),Pp=new RegExp(`^hsla\\(${Mi},${pe},${pe},${Mi}\\)$`),kc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vr(Ei,re,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ic,formatHex:Ic,formatHex8:Lp,formatHsl:Bp,formatRgb:Dc,toString:Dc});function Ic(){return this.rgb().formatHex()}function Lp(){return this.rgb().formatHex8()}function Bp(){return Rc(this).formatHsl()}function Dc(){return this.rgb().formatRgb()}function re(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Tp.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Sc(e):r===3?new Gt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Pr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Pr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Op.exec(t))?new Gt(e[1],e[2],e[3],1):(e=Np.exec(t))?new Gt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fp.exec(t))?Pr(e[1],e[2],e[3],e[4]):(e=Rp.exec(t))?Pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vp.exec(t))?Nc(e[1],e[2]/100,e[3]/100,1):(e=Pp.exec(t))?Nc(e[1],e[2]/100,e[3]/100,e[4]):kc.hasOwnProperty(t)?Sc(kc[t]):t==="transparent"?new Gt(NaN,NaN,NaN,0):null}function Sc(t){return new Gt(t>>16&255,t>>8&255,t&255,1)}function Pr(t,e,r,n){return n<=0&&(t=e=r=NaN),new Gt(t,e,r,n)}function jp(t){return t instanceof Ei||(t=re(t)),t?(t=t.rgb(),new Gt(t.r,t.g,t.b,t.opacity)):new Gt}function Ln(t,e,r,n){return arguments.length===1?jp(t):new Gt(t,e,r,n??1)}function Gt(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Vr(Gt,Ln,us(Ei,{brighter(t){return t=t==null?Br:Math.pow(Br,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ci:Math.pow(Ci,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gt(dn(this.r),dn(this.g),dn(this.b),jr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tc,formatHex:Tc,formatHex8:zp,formatRgb:Oc,toString:Oc}));function Tc(){return`#${un(this.r)}${un(this.g)}${un(this.b)}`}function zp(){return`#${un(this.r)}${un(this.g)}${un(this.b)}${un((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oc(){let t=jr(this.opacity);return`${t===1?"rgb(":"rgba("}${dn(this.r)}, ${dn(this.g)}, ${dn(this.b)}${t===1?")":`, ${t})`}`}function jr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function un(t){return t=dn(t),(t<16?"0":"")+t.toString(16)}function Nc(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ie(t,e,r,n)}function Rc(t){if(t instanceof ie)return new ie(t.h,t.s,t.l,t.opacity);if(t instanceof Ei||(t=re(t)),!t)return new ie;if(t instanceof ie)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-e)/a+2:s=(e-r)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new ie(s,a,c,t.opacity)}function Vc(t,e,r,n){return arguments.length===1?Rc(t):new ie(t,e,r,n??1)}function ie(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Vr(ie,Vc,us(Ei,{brighter(t){return t=t==null?Br:Math.pow(Br,t),new ie(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ci:Math.pow(Ci,t),new ie(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Gt(ds(t>=240?t-240:t+120,i,n),ds(t,i,n),ds(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ie(Fc(this.h),Lr(this.s),Lr(this.l),jr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=jr(this.opacity);return`${t===1?"hsl(":"hsla("}${Fc(this.h)}, ${Lr(this.s)*100}%, ${Lr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fc(t){return t=(t||0)%360,t<0?t+360:t}function Lr(t){return Math.max(0,Math.min(1,t||0))}function ds(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function hs(t,e,r,n,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*r+(1+3*t+3*o-3*s)*n+s*i)/6}function Pc(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],o=t[n+1],s=n>0?t[n-1]:2*i-o,a=n<e-1?t[n+2]:2*o-i;return hs((r-n/e)*e,s,i,o,a)}}function Lc(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],o=t[n%e],s=t[(n+1)%e],a=t[(n+2)%e];return hs((r-n/e)*e,i,o,s,a)}}var Ai=t=>()=>t;function $p(t,e){return function(r){return t+r*e}}function Gp(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Bc(t){return(t=+t)==1?zr:function(e,r){return r-e?Gp(e,r,t):Ai(isNaN(e)?r:e)}}function zr(t,e){var r=e-t;return r?$p(t,r):Ai(isNaN(t)?e:t)}var hn=function t(e){var r=Bc(e);function n(i,o){var s=r((i=Ln(i)).r,(o=Ln(o)).r),a=r(i.g,o.g),c=r(i.b,o.b),u=zr(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=c(l),i.opacity=u(l),i+""}}return n.gamma=t,n}(1);function jc(t){return function(e){var r=e.length,n=new Array(r),i=new Array(r),o=new Array(r),s,a;for(s=0;s<r;++s)a=Ln(e[s]),n[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return n=t(n),i=t(i),o=t(o),a.opacity=1,function(c){return a.r=n(c),a.g=i(c),a.b=o(c),a+""}}}var fs=jc(Pc),Hp=jc(Lc);function zc(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function $c(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gc(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=oe(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function Hc(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function kt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function qc(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=oe(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var ms=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ps=new RegExp(ms.source,"g");function qp(t){return function(){return t}}function Up(t){return function(e){return t(e)+""}}function ki(t,e){var r=ms.lastIndex=ps.lastIndex=0,n,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(n=ms.exec(t))&&(i=ps.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:kt(n,i)})),r=ps.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?Up(c[0].x):qp(e):(e=c.length,function(u){for(var l=0,d;l<e;++l)a[(d=c[l]).i]=d.x(u);return a.join("")})}function oe(t,e){var r=typeof e,n;return e==null||r==="boolean"?Ai(e):(r==="number"?kt:r==="string"?(n=re(e))?(e=n,hn):ki:e instanceof re?hn:e instanceof Date?Hc:$c(e)?zc:Array.isArray(e)?Gc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qc:kt)(t,e)}function Ii(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var Uc=180/Math.PI,$r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gs(t,e,r,n,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*r+e*n)&&(r-=t*c,n-=e*c),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,c/=a),t*n<e*r&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Uc,skewX:Math.atan(c)*Uc,scaleX:s,scaleY:a}}var Gr;function Yc(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$r:gs(e.a,e.b,e.c,e.d,e.e,e.f)}function Wc(t){return t==null?$r:(Gr||(Gr=document.createElementNS("http://www.w3.org/2000/svg","g")),Gr.setAttribute("transform",t),(t=Gr.transform.baseVal.consolidate())?(t=t.matrix,gs(t.a,t.b,t.c,t.d,t.e,t.f)):$r)}function Xc(t,e,r,n){function i(u){return u.length?u.pop()+" ":""}function o(u,l,d,h,f,p){if(u!==d||l!==h){var g=f.push("translate(",null,e,null,r);p.push({i:g-4,x:kt(u,d)},{i:g-2,x:kt(l,h)})}else(d||h)&&f.push("translate("+d+e+h+r)}function s(u,l,d,h){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,n)-2,x:kt(u,l)})):l&&d.push(i(d)+"rotate("+l+n)}function a(u,l,d,h){u!==l?h.push({i:d.push(i(d)+"skewX(",null,n)-2,x:kt(u,l)}):l&&d.push(i(d)+"skewX("+l+n)}function c(u,l,d,h,f,p){if(u!==d||l!==h){var g=f.push(i(f)+"scale(",null,",",null,")");p.push({i:g-4,x:kt(u,d)},{i:g-2,x:kt(l,h)})}else(d!==1||h!==1)&&f.push(i(f)+"scale("+d+","+h+")")}return function(u,l){var d=[],h=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,d,h),s(u.rotate,l.rotate,d,h),a(u.skewX,l.skewX,d,h),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,d,h),u=l=null,function(f){for(var p=-1,g=h.length,m;++p<g;)d[(m=h[p]).i]=m.x(f);return d.join("")}}}var _s=Xc(Yc,"px, ","px)","deg)"),vs=Xc(Wc,", ",")",")");var Bn=0,Si=0,Di=0,Kc=1e3,Hr,Ti,qr=0,fn=0,Ur=0,Oi=typeof performance=="object"&&performance.now?performance:Date,Qc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fi(){return fn||(Qc(Yp),fn=Oi.now()+Ur)}function Yp(){fn=0}function Ni(){this._call=this._time=this._next=null}Ni.prototype=Yr.prototype={constructor:Ni,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Fi():+r)+(e==null?0:+e),!this._next&&Ti!==this&&(Ti?Ti._next=this:Hr=this,Ti=this),this._call=t,this._time=r,ys()},stop:function(){this._call&&(this._call=null,this._time=1/0,ys())}};function Yr(t,e,r){var n=new Ni;return n.restart(t,e,r),n}function Jc(){Fi(),++Bn;for(var t=Hr,e;t;)(e=fn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Bn}function Zc(){fn=(qr=Oi.now())+Ur,Bn=Si=0;try{Jc()}finally{Bn=0,Xp(),fn=0}}function Wp(){var t=Oi.now(),e=t-qr;e>Kc&&(Ur-=e,qr=t)}function Xp(){for(var t,e=Hr,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Hr=r);Ti=t,ys(n)}function ys(t){if(!Bn){Si&&(Si=clearTimeout(Si));var e=t-fn;e>24?(t<1/0&&(Si=setTimeout(Zc,t-Oi.now()-Ur)),Di&&(Di=clearInterval(Di))):(Di||(qr=Oi.now(),Di=setInterval(Wp,Kc)),Bn=1,Qc(Zc))}}function Wr(t,e,r){var n=new Ni;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var Zp=an("start","end","cancel","interrupt"),Kp=[],nu=0,tu=1,Zr=2,Xr=3,eu=4,Kr=5,Ri=6;function He(t,e,r,n,i,o){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;Qp(t,r,{name:e,index:n,group:i,on:Zp,tween:Kp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:nu})}function Vi(t,e){var r=bt(t,e);if(r.state>nu)throw new Error("too late; already scheduled");return r}function It(t,e){var r=bt(t,e);if(r.state>Xr)throw new Error("too late; already running");return r}function bt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Qp(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=Yr(o,0,r.time);function o(u){r.state=tu,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var l,d,h,f;if(r.state!==tu)return c();for(l in n)if(f=n[l],f.name===r.name){if(f.state===Xr)return Wr(s);f.state===eu?(f.state=Ri,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete n[l]):+l<e&&(f.state=Ri,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete n[l])}if(Wr(function(){r.state===Xr&&(r.state=eu,r.timer.restart(a,r.delay,r.time),a(u))}),r.state=Zr,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Zr){for(r.state=Xr,i=new Array(h=r.tween.length),l=0,d=-1;l<h;++l)(f=r.tween[l].value.call(t,t.__data__,r.index,r.group))&&(i[++d]=f);i.length=d+1}}function a(u){for(var l=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=Kr,1),d=-1,h=i.length;++d<h;)i[d].call(t,l);r.state===Kr&&(r.on.call("end",t,t.__data__,r.index,r.group),c())}function c(){r.state=Ri,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function pn(t,e){var r=t.__transition,n,i,o=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((n=r[s]).name!==e){o=!1;continue}i=n.state>Zr&&n.state<Kr,n.state=Ri,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]}o&&delete t.__transition}}function iu(t){return this.each(function(){pn(this,t)})}function Jp(t,e){var r,n;return function(){var i=It(this,t),o=i.tween;if(o!==r){n=r=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function tm(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=It(this,t),s=o.tween;if(s!==n){i=(n=s).slice();for(var a={name:e,value:r},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function ru(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=bt(this.node(),r).tween,i=0,o=n.length,s;i<o;++i)if((s=n[i]).name===t)return s.value;return null}return this.each((e==null?Jp:tm)(r,t,e))}function jn(t,e,r){var n=t._id;return t.each(function(){var i=It(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return bt(i,n).value[e]}}function Qr(t,e){var r;return(typeof e=="number"?kt:e instanceof re?hn:(r=re(e))?(e=r,hn):ki)(t,e)}function em(t){return function(){this.removeAttribute(t)}}function nm(t){return function(){this.removeAttributeNS(t.space,t.local)}}function im(t,e,r){var n,i=r+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===n?o:o=e(n=s,r)}}function rm(t,e,r){var n,i=r+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===n?o:o=e(n=s,r)}}function om(t,e,r){var n,i,o;return function(){var s,a=r(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===n&&c===i?o:(i=c,o=e(n=s,a)))}}function sm(t,e,r){var n,i,o;return function(){var s,a=r(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===n&&c===i?o:(i=c,o=e(n=s,a)))}}function ou(t,e){var r=Ce(t),n=r==="transform"?vs:Qr;return this.attrTween(t,typeof e=="function"?(r.local?sm:om)(r,n,jn(this,"attr."+t,e)):e==null?(r.local?nm:em)(r):(r.local?rm:im)(r,n,e))}function am(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function lm(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function cm(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&lm(t,o)),r}return i._value=e,i}function um(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&am(t,o)),r}return i._value=e,i}function su(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=Ce(t);return this.tween(r,(n.local?cm:um)(n,e))}function dm(t,e){return function(){Vi(this,t).delay=+e.apply(this,arguments)}}function hm(t,e){return e=+e,function(){Vi(this,t).delay=e}}function au(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dm:hm)(e,t)):bt(this.node(),e).delay}function fm(t,e){return function(){It(this,t).duration=+e.apply(this,arguments)}}function pm(t,e){return e=+e,function(){It(this,t).duration=e}}function lu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fm:pm)(e,t)):bt(this.node(),e).duration}function mm(t,e){if(typeof e!="function")throw new Error;return function(){It(this,t).ease=e}}function cu(t){var e=this._id;return arguments.length?this.each(mm(e,t)):bt(this.node(),e).ease}function gm(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;It(this,t).ease=r}}function uu(t){if(typeof t!="function")throw new Error;return this.each(gm(this._id,t))}function du(t){typeof t!="function"&&(t=gi(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],s=o.length,a=n[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new Lt(n,this._parents,this._name,this._id)}function hu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var c=e[a],u=r[a],l=c.length,d=s[a]=new Array(l),h,f=0;f<l;++f)(h=c[f]||u[f])&&(d[f]=h);for(;a<n;++a)s[a]=e[a];return new Lt(s,this._parents,this._name,this._id)}function _m(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function vm(t,e,r){var n,i,o=_m(e)?Vi:It;return function(){var s=o(this,t),a=s.on;a!==n&&(i=(n=a).copy()).on(e,r),s.on=i}}function fu(t,e){var r=this._id;return arguments.length<2?bt(this.node(),r).on.on(t):this.each(vm(r,t,e))}function ym(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function pu(){return this.on("end.remove",ym(this._id))}function mu(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ln(t));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var a=n[s],c=a.length,u=o[s]=new Array(c),l,d,h=0;h<c;++h)(l=a[h])&&(d=t.call(l,l.__data__,h,a))&&("__data__"in l&&(d.__data__=l.__data__),u[h]=d,He(u[h],e,r,h,u,bt(l,r)));return new Lt(o,this._parents,e,r)}function gu(t){var e=this._name,r=this._id;typeof t!="function"&&(t=mi(t));for(var n=this._groups,i=n.length,o=[],s=[],a=0;a<i;++a)for(var c=n[a],u=c.length,l,d=0;d<u;++d)if(l=c[d]){for(var h=t.call(l,l.__data__,d,c),f,p=bt(l,r),g=0,m=h.length;g<m;++g)(f=h[g])&&He(f,e,r,g,h,p);o.push(h),s.push(l)}return new Lt(o,s,e,r)}var bm=Me.prototype.constructor;function _u(){return new bm(this._groups,this._parents)}function xm(t,e){var r,n,i;return function(){var o=je(this,t),s=(this.style.removeProperty(t),je(this,t));return o===s?null:o===r&&s===n?i:i=e(r=o,n=s)}}function vu(t){return function(){this.style.removeProperty(t)}}function wm(t,e,r){var n,i=r+"",o;return function(){var s=je(this,t);return s===i?null:s===n?o:o=e(n=s,r)}}function Cm(t,e,r){var n,i,o;return function(){var s=je(this,t),a=r(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),je(this,t))),s===c?null:s===n&&c===i?o:(i=c,o=e(n=s,a))}}function Mm(t,e){var r,n,i,o="style."+e,s="end."+o,a;return function(){var c=It(this,t),u=c.on,l=c.value[o]==null?a||(a=vu(e)):void 0;(u!==r||i!==l)&&(n=(r=u).copy()).on(s,i=l),c.on=n}}function yu(t,e,r){var n=(t+="")=="transform"?_s:Qr;return e==null?this.styleTween(t,xm(t,n)).on("end.style."+t,vu(t)):typeof e=="function"?this.styleTween(t,Cm(t,n,jn(this,"style."+t,e))).each(Mm(this._id,t)):this.styleTween(t,wm(t,n,e),r).on("end.style."+t,null)}function Em(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Am(t,e,r){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Em(t,s,r)),n}return o._value=e,o}function bu(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Am(t,e,r??""))}function km(t){return function(){this.textContent=t}}function Im(t){return function(){var e=t(this);this.textContent=e??""}}function xu(t){return this.tween("text",typeof t=="function"?Im(jn(this,"text",t)):km(t==null?"":t+""))}function Dm(t){return function(e){this.textContent=t.call(this,e)}}function Sm(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&Dm(i)),e}return n._value=t,n}function wu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Sm(t))}function Cu(){for(var t=this._name,e=this._id,r=Jr(),n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var l=bt(c,e);He(c,t,r,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Lt(n,this._parents,t,r)}function Mu(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};r.each(function(){var u=It(this,n),l=u.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),i===0&&o()})}var Tm=0;function Lt(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Eu(t){return Me().transition(t)}function Jr(){return++Tm}var Ae=Me.prototype;Lt.prototype=Eu.prototype={constructor:Lt,select:mu,selectAll:gu,selectChild:Ae.selectChild,selectChildren:Ae.selectChildren,filter:du,merge:hu,selection:_u,transition:Cu,call:Ae.call,nodes:Ae.nodes,node:Ae.node,size:Ae.size,empty:Ae.empty,each:Ae.each,on:fu,attr:ou,attrTween:su,style:yu,styleTween:bu,text:xu,textTween:wu,remove:pu,tween:ru,delay:au,duration:lu,ease:cu,easeVarying:uu,end:Mu,[Symbol.iterator]:Ae[Symbol.iterator]};function to(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Om={time:null,delay:0,duration:250,ease:to};function Nm(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Au(t){var e,r;t instanceof Lt?(e=t._id,t=t._name):(e=Jr(),(r=Om).time=Fi(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&He(c,t,e,u,s,r||Nm(c,e));return new Lt(n,this._parents,t,e)}Me.prototype.interrupt=iu;Me.prototype.transition=Au;var eo=t=>()=>t;function bs(t,{sourceEvent:e,target:r,selection:n,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ku(t){t.stopImmediatePropagation()}function no(t){t.preventDefault(),t.stopImmediatePropagation()}var Iu={name:"drag"},xs={name:"space"},zn={name:"handle"},$n={name:"center"},{abs:Du,max:Ot,min:Nt}=Math;function Su(t){return[+t[0],+t[1]]}function Ms(t){return[Su(t[0]),Su(t[1])]}var ws={name:"x",handles:["w","e"].map(Pi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},io={name:"y",handles:["n","s"].map(Pi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Fm={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Pi),input:function(t){return t==null?null:Ms(t)},output:function(t){return t}},ke={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Tu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ou={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Rm={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Vm={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Pi(t){return{type:t}}function Pm(t){return!t.ctrlKey&&!t.button}function Lm(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Bm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function jm(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Gn(){return Nu(io)}function Es(){return Nu(Fm)}function Nu(t){var e=Lm,r=Pm,n=Bm,i=!0,o=an("start","brush","end"),s=6,a;function c(m){var v=m.property("__brush",g).selectAll(".overlay").data([Pi("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ke.overlay).merge(v).each(function(){var C=Cs(this).extent;I(this).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1])}),m.selectAll(".selection").data([Pi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ke.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var y=m.selectAll(".handle").data(t.handles,function(C){return C.type});y.exit().remove(),y.enter().append("rect").attr("class",function(C){return"handle handle--"+C.type}).attr("cursor",function(C){return ke[C.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(n).on("touchstart.brush",h).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(m,v,y){m.tween?m.on("start.brush",function(C){l(this,arguments).beforestart().start(C)}).on("interrupt.brush end.brush",function(C){l(this,arguments).end(C)}).tween("brush",function(){var C=this,_=C.__brush,b=l(C,arguments),A=_.selection,k=t.input(typeof v=="function"?v.apply(this,arguments):v,_.extent),E=oe(A,k);function x(M){_.selection=M===1&&k===null?null:E(M),u.call(C),b.brush()}return A!==null&&k!==null?x:x(1)}):m.each(function(){var C=this,_=arguments,b=C.__brush,A=t.input(typeof v=="function"?v.apply(C,_):v,b.extent),k=l(C,_).beforestart();pn(C),b.selection=A===null?null:A,u.call(C),k.start(y).brush(y).end(y)})},c.clear=function(m,v){c.move(m,null,v)};function u(){var m=I(this),v=Cs(this).selection;v?(m.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(y){return y.type[y.type.length-1]==="e"?v[1][0]-s/2:v[0][0]-s/2}).attr("y",function(y){return y.type[0]==="s"?v[1][1]-s/2:v[0][1]-s/2}).attr("width",function(y){return y.type==="n"||y.type==="s"?v[1][0]-v[0][0]+s:s}).attr("height",function(y){return y.type==="e"||y.type==="w"?v[1][1]-v[0][1]+s:s})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(m,v,y){var C=m.__brush.emitter;return C&&(!y||!C.clean)?C:new d(m,v,y)}function d(m,v,y){this.that=m,this.args=v,this.state=m.__brush,this.active=0,this.clean=y}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,v){return this.starting?(this.starting=!1,this.emit("start",m,v)):this.emit("brush",m),this},brush:function(m,v){return this.emit("brush",m,v),this},end:function(m,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,v)),this},emit:function(m,v,y){var C=I(this.that).datum();o.call(m,this.that,new bs(m,{sourceEvent:v,target:c,selection:t.output(this.state.selection),mode:y,dispatch:o}),C)}};function h(m){if(a&&!m.touches||!r.apply(this,arguments))return;var v=this,y=m.target.__data__.type,C=(i&&m.metaKey?y="overlay":y)==="selection"?Iu:i&&m.altKey?$n:zn,_=t===io?null:Rm[y],b=t===ws?null:Vm[y],A=Cs(v),k=A.extent,E=A.selection,x=k[0][0],M,w,O=k[0][1],D,T,S=k[1][0],F,L,z=k[1][1],N,G,Y=0,X=0,At,Ut=_&&b&&i&&m.shiftKey,ht,Ne,xt=Array.from(m.touches||[m],H=>{let vt=H.identifier;return H=Ee(H,v),H.point0=H.slice(),H.identifier=vt,H});pn(v);var xe=l(v,arguments,!0).beforestart();if(y==="overlay"){E&&(At=!0);let H=[xt[0],xt[1]||xt[0]];A.selection=E=[[M=t===io?x:Nt(H[0][0],H[1][0]),D=t===ws?O:Nt(H[0][1],H[1][1])],[F=t===io?S:Ot(H[0][0],H[1][0]),N=t===ws?z:Ot(H[0][1],H[1][1])]],xt.length>1&&tn(m)}else M=E[0][0],D=E[0][1],F=E[1][0],N=E[1][1];w=M,T=D,L=F,G=N;var An=I(v).attr("pointer-events","none"),Fe=An.selectAll(".overlay").attr("cursor",ke[y]);if(m.touches)xe.moved=Ra,xe.ended=Va;else{var ni=I(m.view).on("mousemove.brush",Ra,!0).on("mouseup.brush",Va,!0);i&&ni.on("keydown.brush",Nh,!0).on("keyup.brush",Fh,!0),yi(m.view)}u.call(v),xe.start(m,C.name);function Ra(H){for(let vt of H.changedTouches||[H])for(let ii of xt)ii.identifier===vt.identifier&&(ii.cur=Ee(vt,v));if(Ut&&!ht&&!Ne&&xt.length===1){let vt=xt[0];Du(vt.cur[0]-vt[0])>Du(vt.cur[1]-vt[1])?Ne=!0:ht=!0}for(let vt of xt)vt.cur&&(vt[0]=vt.cur[0],vt[1]=vt.cur[1]);At=!0,no(H),tn(H)}function tn(H){let vt=xt[0],ii=vt.point0;var Re;switch(Y=vt[0]-ii[0],X=vt[1]-ii[1],C){case xs:case Iu:{_&&(Y=Ot(x-M,Nt(S-F,Y)),w=M+Y,L=F+Y),b&&(X=Ot(O-D,Nt(z-N,X)),T=D+X,G=N+X);break}case zn:{xt[1]?(_&&(w=Ot(x,Nt(S,xt[0][0])),L=Ot(x,Nt(S,xt[1][0])),_=1),b&&(T=Ot(O,Nt(z,xt[0][1])),G=Ot(O,Nt(z,xt[1][1])),b=1)):(_<0?(Y=Ot(x-M,Nt(S-M,Y)),w=M+Y,L=F):_>0&&(Y=Ot(x-F,Nt(S-F,Y)),w=M,L=F+Y),b<0?(X=Ot(O-D,Nt(z-D,X)),T=D+X,G=N):b>0&&(X=Ot(O-N,Nt(z-N,X)),T=D,G=N+X));break}case $n:{_&&(w=Ot(x,Nt(S,M-Y*_)),L=Ot(x,Nt(S,F+Y*_))),b&&(T=Ot(O,Nt(z,D-X*b)),G=Ot(O,Nt(z,N+X*b)));break}}L<w&&(_*=-1,Re=M,M=F,F=Re,Re=w,w=L,L=Re,y in Tu&&Fe.attr("cursor",ke[y=Tu[y]])),G<T&&(b*=-1,Re=D,D=N,N=Re,Re=T,T=G,G=Re,y in Ou&&Fe.attr("cursor",ke[y=Ou[y]])),A.selection&&(E=A.selection),ht&&(w=E[0][0],L=E[1][0]),Ne&&(T=E[0][1],G=E[1][1]),(E[0][0]!==w||E[0][1]!==T||E[1][0]!==L||E[1][1]!==G)&&(A.selection=[[w,T],[L,G]],u.call(v),xe.brush(H,C.name))}function Va(H){if(ku(H),H.touches){if(H.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else bi(H.view,At),ni.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);An.attr("pointer-events","all"),Fe.attr("cursor",ke.overlay),A.selection&&(E=A.selection),jm(E)&&(A.selection=null,u.call(v)),xe.end(H,C.name)}function Nh(H){switch(H.keyCode){case 16:{Ut=_&&b;break}case 18:{C===zn&&(_&&(F=L-Y*_,M=w+Y*_),b&&(N=G-X*b,D=T+X*b),C=$n,tn(H));break}case 32:{(C===zn||C===$n)&&(_<0?F=L-Y:_>0&&(M=w-Y),b<0?N=G-X:b>0&&(D=T-X),C=xs,Fe.attr("cursor",ke.selection),tn(H));break}default:return}no(H)}function Fh(H){switch(H.keyCode){case 16:{Ut&&(ht=Ne=Ut=!1,tn(H));break}case 18:{C===$n&&(_<0?F=L:_>0&&(M=w),b<0?N=G:b>0&&(D=T),C=zn,tn(H));break}case 32:{C===xs&&(H.altKey?(_&&(F=L-Y*_,M=w+Y*_),b&&(N=G-X*b,D=T+X*b),C=$n):(_<0?F=L:_>0&&(M=w),b<0?N=G:b>0&&(D=T),C=zn),Fe.attr("cursor",ke[y]),tn(H));break}default:return}no(H)}}function f(m){l(this,arguments).moved(m)}function p(m){l(this,arguments).ended(m)}function g(){var m=this.__brush||{selection:null};return m.extent=Ms(e.apply(this,arguments)),m.dim=t,m}return c.extent=function(m){return arguments.length?(e=typeof m=="function"?m:eo(Ms(m)),c):e},c.filter=function(m){return arguments.length?(r=typeof m=="function"?m:eo(!!m),c):r},c.touchable=function(m){return arguments.length?(n=typeof m=="function"?m:eo(!!m),c):n},c.handleSize=function(m){return arguments.length?(s=+m,c):s},c.keyModifiers=function(m){return arguments.length?(i=!!m,c):i},c.on=function(){var m=o.on.apply(o,arguments);return m===o?c:m},c}var As=Math.PI,ks=2*As,mn=1e-6,zm=ks-mn;function Fu(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function $m(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Fu;let r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var gn=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Fu:$m(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=n-e,u=i-r,l=s-e,d=a-r,h=l*l+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>mn)if(!(Math.abs(d*c-u*l)>mn)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-s,p=i-a,g=c*c+u*u,m=f*f+p*p,v=Math.sqrt(g),y=Math.sqrt(h),C=o*Math.tan((As-Math.acos((g+h-m)/(2*v*y)))/2),_=C/y,b=C/v;Math.abs(_-1)>mn&&this._append`L${e+_*l},${r+_*d}`,this._append`A${o},${o},0,0,${+(d*f>l*p)},${this._x1=e+b*c},${this._y1=r+b*u}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),c=n*Math.sin(i),u=e+a,l=r+c,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>mn||Math.abs(this._y1-l)>mn)&&this._append`L${u},${l}`,n&&(h<0&&(h=h%ks+ks),h>zm?this._append`A${n},${n},0,1,${d},${e-a},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=l}`:h>mn&&this._append`A${n},${n},0,${+(h>=As)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function Ru(){return new gn}Ru.prototype=gn.prototype;var Vu={},Is={},Ds=34,Li=10,Ss=13;function Lu(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function Gm(t,e){var r=Lu(t);return function(n,i){return e(r(n),i,t)}}function Pu(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var i in n)i in e||r.push(e[i]=i)}),r}function Ht(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function Hm(t){return t<0?"-"+Ht(-t,6):t>9999?"+"+Ht(t,6):Ht(t,4)}function qm(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Hm(t.getUTCFullYear(),4)+"-"+Ht(t.getUTCMonth()+1,2)+"-"+Ht(t.getUTCDate(),2)+(i?"T"+Ht(e,2)+":"+Ht(r,2)+":"+Ht(n,2)+"."+Ht(i,3)+"Z":n?"T"+Ht(e,2)+":"+Ht(r,2)+":"+Ht(n,2)+"Z":r||e?"T"+Ht(e,2)+":"+Ht(r,2)+"Z":"")}function Bu(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(d,h){var f,p,g=i(d,function(m,v){if(f)return f(m,v-1);p=m,f=h?Gm(m,h):Lu(m)});return g.columns=p||[],g}function i(d,h){var f=[],p=d.length,g=0,m=0,v,y=p<=0,C=!1;d.charCodeAt(p-1)===Li&&--p,d.charCodeAt(p-1)===Ss&&--p;function _(){if(y)return Is;if(C)return C=!1,Vu;var A,k=g,E;if(d.charCodeAt(k)===Ds){for(;g++<p&&d.charCodeAt(g)!==Ds||d.charCodeAt(++g)===Ds;);return(A=g)>=p?y=!0:(E=d.charCodeAt(g++))===Li?C=!0:E===Ss&&(C=!0,d.charCodeAt(g)===Li&&++g),d.slice(k+1,A-1).replace(/""/g,'"')}for(;g<p;){if((E=d.charCodeAt(A=g++))===Li)C=!0;else if(E===Ss)C=!0,d.charCodeAt(g)===Li&&++g;else if(E!==r)continue;return d.slice(k,A)}return y=!0,d.slice(k,p)}for(;(v=_())!==Is;){for(var b=[];v!==Vu&&v!==Is;)b.push(v),v=_();h&&(b=h(b,m++))==null||f.push(b)}return f}function o(d,h){return d.map(function(f){return h.map(function(p){return l(f[p])}).join(t)})}function s(d,h){return h==null&&(h=Pu(d)),[h.map(l).join(t)].concat(o(d,h)).join(`
`)}function a(d,h){return h==null&&(h=Pu(d)),o(d,h).join(`
`)}function c(d){return d.map(u).join(`
`)}function u(d){return d.map(l).join(t)}function l(d){return d==null?"":d instanceof Date?qm(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:n,parseRows:i,format:s,formatBody:a,formatRows:c,formatRow:u,formatValue:l}}var _n=Bu(","),Dt=_n.parse,Um=_n.parseRows,Ym=_n.format,Wm=_n.formatBody,Xm=_n.formatRows,Zm=_n.formatRow,Km=_n.formatValue;function ju(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vn(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function me(t){return t=vn(Math.abs(t)),t?t[1]:NaN}function zu(t,e){return function(r,n){for(var i=r.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>n&&(a=Math.max(1,n-c)),o.push(r.substring(i-=a,i+a)),!((c+=a+1)>n));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function $u(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Qm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qe(t){if(!(e=Qm.exec(t)))throw new Error("invalid format: "+t);var e;return new ro({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qe.prototype=ro.prototype;function ro(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ro.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gu(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Ts;function Hu(t,e){var r=vn(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(Ts=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+vn(t,Math.max(0,e+o-1))[0]}function Os(t,e){var r=vn(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var Ns={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ju,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Os(t*100,e),r:Os,s:Hu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fs(t){return t}var qu=Array.prototype.map,Uu=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Yu(t){var e=t.grouping===void 0||t.thousands===void 0?Fs:zu(qu.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Fs:$u(qu.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=qe(d);var h=d.fill,f=d.align,p=d.sign,g=d.symbol,m=d.zero,v=d.width,y=d.comma,C=d.precision,_=d.trim,b=d.type;b==="n"?(y=!0,b="g"):Ns[b]||(C===void 0&&(C=12),_=!0,b="g"),(m||h==="0"&&f==="=")&&(m=!0,h="0",f="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",k=g==="$"?n:/[%p]/.test(b)?s:"",E=Ns[b],x=/[defgprs%]/.test(b);C=C===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function M(w){var O=A,D=k,T,S,F;if(b==="c")D=E(w)+D,w="";else{w=+w;var L=w<0||1/w<0;if(w=isNaN(w)?c:E(Math.abs(w),C),_&&(w=Gu(w)),L&&+w==0&&p!=="+"&&(L=!1),O=(L?p==="("?p:a:p==="-"||p==="("?"":p)+O,D=(b==="s"?Uu[8+Ts/3]:"")+D+(L&&p==="("?")":""),x){for(T=-1,S=w.length;++T<S;)if(F=w.charCodeAt(T),48>F||F>57){D=(F===46?i+w.slice(T+1):w.slice(T))+D,w=w.slice(0,T);break}}}y&&!m&&(w=e(w,1/0));var z=O.length+w.length+D.length,N=z<v?new Array(v-z+1).join(h):"";switch(y&&m&&(w=e(N+w,N.length?v-D.length:1/0),N=""),f){case"<":w=O+w+D+N;break;case"=":w=O+N+w+D;break;case"^":w=N.slice(0,z=N.length>>1)+O+w+D+N.slice(z);break;default:w=N+O+w+D;break}return o(w)}return M.toString=function(){return d+""},M}function l(d,h){var f=u((d=qe(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(me(h)/3)))*3,g=Math.pow(10,-p),m=Uu[8+p/3];return function(v){return f(g*v)+m}}return{format:u,formatPrefix:l}}var oo,Ue,so;Rs({thousands:",",grouping:[3],currency:["$",""]});function Rs(t){return oo=Yu(t),Ue=oo.format,so=oo.formatPrefix,oo}function Vs(t){return Math.max(0,-me(Math.abs(t)))}function Ps(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(me(e)/3)))*3-me(Math.abs(t)))}function Ls(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,me(e)-me(t))+1}var W=1e-6,Wu=1e-12,U=Math.PI,Ct=U/2,Bs=U/4,Mt=U*2,Ft=180/U,at=U/180,K=Math.abs,ao=Math.atan,Ie=Math.atan2,tt=Math.cos;var Xu=Math.exp;var Zu=Math.log;var it=Math.sin,Ku=Math.sign||function(t){return t>0?1:t<0?-1:0},Xt=Math.sqrt,Qu=Math.tan;function Ju(t){return t>1?0:t<-1?U:Math.acos(t)}function De(t){return t>1?Ct:t<-1?-Ct:Math.asin(t)}function Et(){}function lo(t,e){t&&ed.hasOwnProperty(t.type)&&ed[t.type](t,e)}var td={Feature:function(t,e){lo(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n<i;)lo(r[n].geometry,e)}},ed={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){js(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)js(r[n],e,0)},Polygon:function(t,e){nd(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)nd(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n<i;)lo(r[n],e)}};function js(t,e,r){var n=-1,i=t.length-r,o;for(e.lineStart();++n<i;)o=t[n],e.point(o[0],o[1],o[2]);e.lineEnd()}function nd(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)js(t[r],e,1);e.polygonEnd()}function Ye(t,e){t&&td.hasOwnProperty(t.type)?td[t.type](t,e):lo(t,e)}function Bi(t){return[Ie(t[1],t[0]),De(t[2])]}function ge(t){var e=t[0],r=t[1],n=tt(r);return[n*tt(e),n*it(e),it(r)]}function ji(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Hn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function co(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $i(t){var e=Xt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Gi(t,e){function r(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),r}function zs(t,e){return K(t)>U&&(t-=Math.round(t/Mt)*Mt),[t,e]}zs.invert=zs;function $s(t,e,r){return(t%=Mt)?e||r?Gi(rd(t),od(e,r)):rd(t):e||r?od(e,r):zs}function id(t){return function(e,r){return e+=t,K(e)>U&&(e-=Math.round(e/Mt)*Mt),[e,r]}}function rd(t){var e=id(t);return e.invert=id(-t),e}function od(t,e){var r=tt(t),n=it(t),i=tt(e),o=it(e);function s(a,c){var u=tt(c),l=tt(a)*u,d=it(a)*u,h=it(c),f=h*r+l*n;return[Ie(d*i-f*o,l*r-h*n),De(f*i+d*o)]}return s.invert=function(a,c){var u=tt(c),l=tt(a)*u,d=it(a)*u,h=it(c),f=h*i-d*o;return[Ie(d*i+h*o,l*r+f*n),De(f*r-l*n)]},s}function sd(t){t=$s(t[0]*at,t[1]*at,t.length>2?t[2]*at:0);function e(r){return r=t(r[0]*at,r[1]*at),r[0]*=Ft,r[1]*=Ft,r}return e.invert=function(r){return r=t.invert(r[0]*at,r[1]*at),r[0]*=Ft,r[1]*=Ft,r},e}function ld(t,e,r,n,i,o){if(r){var s=tt(e),a=it(e),c=n*r;i==null?(i=e+n*Mt,o=e-c/2):(i=ad(s,i),o=ad(s,o),(n>0?i<o:i>o)&&(i+=n*Mt));for(var u,l=i;n>0?l>o:l<o;l-=c)u=Bi([s,-a*tt(l),-a*it(l)]),t.point(u[0],u[1])}}function ad(t,e){e=ge(e),e[0]-=t,$i(e);var r=Ju(-e[1]);return((-e[2]<0?-r:r)+Mt-W)%Mt}function uo(){var t=[],e;return{point:function(r,n,i){e.push([r,n,i])},lineStart:function(){t.push(e=[])},lineEnd:Et,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function qn(t,e){return K(t[0]-e[0])<W&&K(t[1]-e[1])<W}function ho(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function fo(t,e,r,n,i){var o=[],s=[],a,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],y;if(qn(m,v)){if(!m[2]&&!v[2]){for(i.lineStart(),a=0;a<g;++a)i.point((m=p[a])[0],m[1]);i.lineEnd();return}v[0]+=2*W}o.push(y=new ho(m,p,null,!0)),s.push(y.o=new ho(m,null,y,!1)),o.push(y=new ho(v,p,null,!1)),s.push(y.o=new ho(v,null,y,!0))}}),!!o.length){for(s.sort(e),cd(o),cd(s),a=0,c=s.length;a<c;++a)s[a].e=r=!r;for(var u=o[0],l,d;;){for(var h=u,f=!0;h.v;)if((h=h.n)===u)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,c=l.length;a<c;++a)i.point((d=l[a])[0],d[1]);else n(h.x,h.n.x,1,i);h=h.n}else{if(f)for(l=h.p.z,a=l.length-1;a>=0;--a)i.point((d=l[a])[0],d[1]);else n(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,f=!f}while(!h.v);i.lineEnd()}}}function cd(t){if(e=t.length){for(var e,r=0,n=t[0],i;++r<e;)n.n=i=t[r],i.p=n,n=i;n.n=i=t[0],i.p=n}}function Gs(t){return K(t[0])<=U?t[0]:Ku(t[0])*((K(t[0])+U)%Mt-U)}function ud(t,e){var r=Gs(e),n=e[1],i=it(n),o=[it(r),-tt(r),0],s=0,a=0,c=new Wt;i===1?n=Ct+W:i===-1&&(n=-Ct-W);for(var u=0,l=t.length;u<l;++u)if(h=(d=t[u]).length)for(var d,h,f=d[h-1],p=Gs(f),g=f[1]/2+Bs,m=it(g),v=tt(g),y=0;y<h;++y,p=_,m=A,v=k,f=C){var C=d[y],_=Gs(C),b=C[1]/2+Bs,A=it(b),k=tt(b),E=_-p,x=E>=0?1:-1,M=x*E,w=M>U,O=m*A;if(c.add(Ie(O*x*it(M),v*k+O*tt(M))),s+=w?E+x*Mt:E,w^p>=r^_>=r){var D=Hn(ge(f),ge(C));$i(D);var T=Hn(o,D);$i(T);var S=(w^E>=0?-1:1)*De(T[2]);(n>S||n===S&&(D[0]||D[1]))&&(a+=w^E>=0?1:-1)}}return(s<-W||s<W&&c<-Wu)^a&1}function po(t,e,r,n){return function(i){var o=e(i),s=uo(),a=e(s),c=!1,u,l,d,h={point:f,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=C,l=[],u=[]},polygonEnd:function(){h.point=f,h.lineStart=g,h.lineEnd=m,l=Vn(l);var _=ud(u,n);l.length?(c||(i.polygonStart(),c=!0),fo(l,tg,_,r,i)):_&&(c||(i.polygonStart(),c=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(_,b){t(_,b)&&i.point(_,b)}function p(_,b){o.point(_,b)}function g(){h.point=p,o.lineStart()}function m(){h.point=f,o.lineEnd()}function v(_,b){d.push([_,b]),a.point(_,b)}function y(){a.lineStart(),d=[]}function C(){v(d[0][0],d[0][1]),a.lineEnd();var _=a.clean(),b=s.result(),A,k=b.length,E,x,M;if(d.pop(),u.push(d),d=null,!!k){if(_&1){if(x=b[0],(E=x.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),A=0;A<E;++A)i.point((M=x[A])[0],M[1]);i.lineEnd()}return}k>1&&_&2&&b.push(b.pop().concat(b.shift())),l.push(b.filter(Jm))}}return h}}function Jm(t){return t.length>1}function tg(t,e){return((t=t.x)[0]<0?t[1]-Ct-W:Ct-t[1])-((e=e.x)[0]<0?e[1]-Ct-W:Ct-e[1])}var Hs=po(function(){return!0},eg,ig,[-U,-Ct]);function eg(t){var e=NaN,r=NaN,n=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,s){var a=o>0?U:-U,c=K(o-e);K(c-U)<W?(t.point(e,r=(r+s)/2>0?Ct:-Ct),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),i=0):n!==a&&c>=U&&(K(e-n)<W&&(e-=n*W),K(o-a)<W&&(o-=a*W),r=ng(e,r,o,s),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(a,r),i=0),t.point(e=o,r=s),n=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-i}}}function ng(t,e,r,n){var i,o,s=it(t-r);return K(s)>W?ao((it(e)*(o=tt(n))*it(r)-it(n)*(i=tt(e))*it(t))/(i*o*s)):(e+n)/2}function ig(t,e,r,n){var i;if(t==null)i=r*Ct,n.point(-U,i),n.point(0,i),n.point(U,i),n.point(U,0),n.point(U,-i),n.point(0,-i),n.point(-U,-i),n.point(-U,0),n.point(-U,i);else if(K(t[0]-e[0])>W){var o=t[0]<e[0]?U:-U;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(e[0],e[1])}function dd(t){var e=tt(t),r=6*at,n=e>0,i=K(e)>W;function o(l,d,h,f){ld(f,t,r,h,l,d)}function s(l,d){return tt(l)*tt(d)>e}function a(l){var d,h,f,p,g;return{lineStart:function(){p=f=!1,g=1},point:function(m,v){var y=[m,v],C,_=s(m,v),b=n?_?0:u(m,v):_?u(m+(m<0?U:-U),v):0;if(!d&&(p=f=_)&&l.lineStart(),_!==f&&(C=c(d,y),(!C||qn(d,C)||qn(y,C))&&(y[2]=1)),_!==f)g=0,_?(l.lineStart(),C=c(y,d),l.point(C[0],C[1])):(C=c(d,y),l.point(C[0],C[1],2),l.lineEnd()),d=C;else if(i&&d&&n^_){var A;!(b&h)&&(A=c(y,d,!0))&&(g=0,n?(l.lineStart(),l.point(A[0][0],A[0][1]),l.point(A[1][0],A[1][1]),l.lineEnd()):(l.point(A[1][0],A[1][1]),l.lineEnd(),l.lineStart(),l.point(A[0][0],A[0][1],3)))}_&&(!d||!qn(d,y))&&l.point(y[0],y[1]),d=y,f=_,h=b},lineEnd:function(){f&&l.lineEnd(),d=null},clean:function(){return g|(p&&f)<<1}}}function c(l,d,h){var f=ge(l),p=ge(d),g=[1,0,0],m=Hn(f,p),v=ji(m,m),y=m[0],C=v-y*y;if(!C)return!h&&l;var _=e*v/C,b=-e*y/C,A=Hn(g,m),k=zi(g,_),E=zi(m,b);co(k,E);var x=A,M=ji(k,x),w=ji(x,x),O=M*M-w*(ji(k,k)-1);if(!(O<0)){var D=Xt(O),T=zi(x,(-M-D)/w);if(co(T,k),T=Bi(T),!h)return T;var S=l[0],F=d[0],L=l[1],z=d[1],N;F<S&&(N=S,S=F,F=N);var G=F-S,Y=K(G-U)<W,X=Y||G<W;if(!Y&&z<L&&(N=L,L=z,z=N),X?Y?L+z>0^T[1]<(K(T[0]-S)<W?L:z):L<=T[1]&&T[1]<=z:G>U^(S<=T[0]&&T[0]<=F)){var At=zi(x,(-M+D)/w);return co(At,k),[T,Bi(At)]}}}function u(l,d){var h=n?t:U-t,f=0;return l<-h?f|=1:l>h&&(f|=2),d<-h?f|=4:d>h&&(f|=8),f}return po(s,a,o,n?[0,-t]:[-U,t-U])}function hd(t,e,r,n,i,o){var s=t[0],a=t[1],c=e[0],u=e[1],l=0,d=1,h=c-s,f=u-a,p;if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<l)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>l&&(l=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>l&&(l=p)}else if(h>0){if(p<l)return;p<d&&(d=p)}if(p=n-a,!(!f&&p>0)){if(p/=f,f<0){if(p<l)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>l&&(l=p)}if(p=o-a,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>l&&(l=p)}else if(f>0){if(p<l)return;p<d&&(d=p)}return l>0&&(t[0]=s+l*h,t[1]=a+l*f),d<1&&(e[0]=s+d*h,e[1]=a+d*f),!0}}}}}var Hi=1e9,mo=-Hi;function qs(t,e,r,n){function i(u,l){return t<=u&&u<=r&&e<=l&&l<=n}function o(u,l,d,h){var f=0,p=0;if(u==null||(f=s(u,d))!==(p=s(l,d))||c(u,l)<0^d>0)do h.point(f===0||f===3?t:r,f>1?n:e);while((f=(f+d+4)%4)!==p);else h.point(l[0],l[1])}function s(u,l){return K(u[0]-t)<W?l>0?0:3:K(u[0]-r)<W?l>0?2:1:K(u[1]-e)<W?l>0?1:0:l>0?3:2}function a(u,l){return c(u.x,l.x)}function c(u,l){var d=s(u,1),h=s(l,1);return d!==h?d-h:d===0?l[1]-u[1]:d===1?u[0]-l[0]:d===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,d=uo(),h,f,p,g,m,v,y,C,_,b,A,k={point:E,lineStart:O,lineEnd:D,polygonStart:M,polygonEnd:w};function E(S,F){i(S,F)&&l.point(S,F)}function x(){for(var S=0,F=0,L=f.length;F<L;++F)for(var z=f[F],N=1,G=z.length,Y=z[0],X,At,Ut=Y[0],ht=Y[1];N<G;++N)X=Ut,At=ht,Y=z[N],Ut=Y[0],ht=Y[1],At<=n?ht>n&&(Ut-X)*(n-At)>(ht-At)*(t-X)&&++S:ht<=n&&(Ut-X)*(n-At)<(ht-At)*(t-X)&&--S;return S}function M(){l=d,h=[],f=[],A=!0}function w(){var S=x(),F=A&&S,L=(h=Vn(h)).length;(F||L)&&(u.polygonStart(),F&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),L&&fo(h,a,S,o,u),u.polygonEnd()),l=u,h=f=p=null}function O(){k.point=T,f&&f.push(p=[]),b=!0,_=!1,y=C=NaN}function D(){h&&(T(g,m),v&&_&&d.rejoin(),h.push(d.result())),k.point=E,_&&l.lineEnd()}function T(S,F){var L=i(S,F);if(f&&p.push([S,F]),b)g=S,m=F,v=L,b=!1,L&&(l.lineStart(),l.point(S,F));else if(L&&_)l.point(S,F);else{var z=[y=Math.max(mo,Math.min(Hi,y)),C=Math.max(mo,Math.min(Hi,C))],N=[S=Math.max(mo,Math.min(Hi,S)),F=Math.max(mo,Math.min(Hi,F))];hd(z,N,t,e,r,n)?(_||(l.lineStart(),l.point(z[0],z[1])),l.point(N[0],N[1]),L||l.lineEnd(),A=!1):L&&(l.lineStart(),l.point(S,F),A=!1)}y=S,C=F,_=L}return k}}var qi=t=>t;var Us=new Wt,Ys=new Wt,fd,pd,Ws,Xs,We={point:Et,lineStart:Et,lineEnd:Et,polygonStart:function(){We.lineStart=rg,We.lineEnd=sg},polygonEnd:function(){We.lineStart=We.lineEnd=We.point=Et,Us.add(K(Ys)),Ys=new Wt},result:function(){var t=Us/2;return Us=new Wt,t}};function rg(){We.point=og}function og(t,e){We.point=md,fd=Ws=t,pd=Xs=e}function md(t,e){Ys.add(Xs*t-Ws*e),Ws=t,Xs=e}function sg(){md(fd,pd)}var Zs=We;var Un=1/0,go=Un,Ui=-Un,_o=Ui,ag={point:lg,lineStart:Et,lineEnd:Et,polygonStart:Et,polygonEnd:Et,result:function(){var t=[[Un,go],[Ui,_o]];return Ui=_o=-(go=Un=1/0),t}};function lg(t,e){t<Un&&(Un=t),t>Ui&&(Ui=t),e<go&&(go=e),e>_o&&(_o=e)}var Yn=ag;var Ks=0,Qs=0,Yi=0,vo=0,yo=0,Wn=0,Js=0,ta=0,Wi=0,vd,yd,_e,ve,se={point:yn,lineStart:gd,lineEnd:_d,polygonStart:function(){se.lineStart=dg,se.lineEnd=hg},polygonEnd:function(){se.point=yn,se.lineStart=gd,se.lineEnd=_d},result:function(){var t=Wi?[Js/Wi,ta/Wi]:Wn?[vo/Wn,yo/Wn]:Yi?[Ks/Yi,Qs/Yi]:[NaN,NaN];return Ks=Qs=Yi=vo=yo=Wn=Js=ta=Wi=0,t}};function yn(t,e){Ks+=t,Qs+=e,++Yi}function gd(){se.point=cg}function cg(t,e){se.point=ug,yn(_e=t,ve=e)}function ug(t,e){var r=t-_e,n=e-ve,i=Xt(r*r+n*n);vo+=i*(_e+t)/2,yo+=i*(ve+e)/2,Wn+=i,yn(_e=t,ve=e)}function _d(){se.point=yn}function dg(){se.point=fg}function hg(){bd(vd,yd)}function fg(t,e){se.point=bd,yn(vd=_e=t,yd=ve=e)}function bd(t,e){var r=t-_e,n=e-ve,i=Xt(r*r+n*n);vo+=i*(_e+t)/2,yo+=i*(ve+e)/2,Wn+=i,i=ve*t-_e*e,Js+=i*(_e+t),ta+=i*(ve+e),Wi+=i*3,yn(_e=t,ve=e)}var ea=se;function bo(t){this._context=t}bo.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Mt);break}}},result:Et};var ia=new Wt,na,xd,wd,Xi,Zi,xo={point:Et,lineStart:function(){xo.point=pg},lineEnd:function(){na&&Cd(xd,wd),xo.point=Et},polygonStart:function(){na=!0},polygonEnd:function(){na=null},result:function(){var t=+ia;return ia=new Wt,t}};function pg(t,e){xo.point=Cd,xd=Xi=t,wd=Zi=e}function Cd(t,e){Xi-=t,Zi-=e,ia.add(Xt(Xi*Xi+Zi*Zi)),Xi=t,Zi=e}var ra=xo;var Md,wo,Ed,Ad,Ki=class{constructor(e){this._append=e==null?kd:mg(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==Ed||this._append!==wo){let n=this._radius,i=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Ed=n,wo=this._append,Ad=this._,this._=i}this._+=Ad;break}}}result(){let e=this._;return this._="",e.length?e:null}};function kd(t){let e=1;this._+=t[0];for(let r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function mg(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return kd;if(e!==Md){let r=10**e;Md=e,wo=function(i){let o=1;this._+=i[0];for(let s=i.length;o<s;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}return wo}function Co(t,e){let r=3,n=4.5,i,o;function s(a){return a&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),Ye(a,i(o))),o.result()}return s.area=function(a){return Ye(a,i(Zs)),Zs.result()},s.measure=function(a){return Ye(a,i(ra)),ra.result()},s.bounds=function(a){return Ye(a,i(Yn)),Yn.result()},s.centroid=function(a){return Ye(a,i(ea)),ea.result()},s.projection=function(a){return arguments.length?(i=a==null?(t=null,qi):(t=a).stream,s):t},s.context=function(a){return arguments.length?(o=a==null?(e=null,new Ki(r)):new bo(e=a),typeof n!="function"&&o.pointRadius(n),s):e},s.pointRadius=function(a){return arguments.length?(n=typeof a=="function"?a:(o.pointRadius(+a),+a),s):n},s.digits=function(a){if(!arguments.length)return r;if(a==null)r=null;else{let c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);r=c}return e===null&&(o=new Ki(r)),s},s.projection(t).digits(r).context(e)}function Qi(t){return function(e){var r=new oa;for(var n in t)r[n]=t[n];return r.stream=e,r}}function oa(){}oa.prototype={constructor:oa,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function sa(t,e,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),Ye(r,t.stream(Yn)),e(Yn.result()),n!=null&&t.clipExtent(n),t}function aa(t,e,r){return sa(t,function(n){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+e[0][0]+(i-s*(n[1][0]+n[0][0]))/2,c=+e[0][1]+(o-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([a,c])},r)}function Id(t,e,r){return aa(t,[[0,0],e],r)}function Dd(t,e,r){return sa(t,function(n){var i=+e,o=i/(n[1][0]-n[0][0]),s=(i-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];t.scale(150*o).translate([s,a])},r)}function Sd(t,e,r){return sa(t,function(n){var i=+e,o=i/(n[1][1]-n[0][1]),s=-o*n[0][0],a=(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])},r)}var Td=16,gg=tt(30*at);function la(t,e){return+e?vg(t,e):_g(t)}function _g(t){return Qi({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function vg(t,e){function r(n,i,o,s,a,c,u,l,d,h,f,p,g,m){var v=u-n,y=l-i,C=v*v+y*y;if(C>4*e&&g--){var _=s+h,b=a+f,A=c+p,k=Xt(_*_+b*b+A*A),E=De(A/=k),x=K(K(A)-1)<W||K(o-d)<W?(o+d)/2:Ie(b,_),M=t(x,E),w=M[0],O=M[1],D=w-n,T=O-i,S=y*D-v*T;(S*S/C>e||K((v*D+y*T)/C-.5)>.3||s*h+a*f+c*p<gg)&&(r(n,i,o,s,a,c,w,O,x,_/=k,b/=k,A,g,m),m.point(w,O),r(w,O,x,_,b,A,u,l,d,h,f,p,g,m))}}return function(n){var i,o,s,a,c,u,l,d,h,f,p,g,m={point:v,lineStart:y,lineEnd:_,polygonStart:function(){n.polygonStart(),m.lineStart=b},polygonEnd:function(){n.polygonEnd(),m.lineStart=y}};function v(E,x){E=t(E,x),n.point(E[0],E[1])}function y(){d=NaN,m.point=C,n.lineStart()}function C(E,x){var M=ge([E,x]),w=t(E,x);r(d,h,l,f,p,g,d=w[0],h=w[1],l=E,f=M[0],p=M[1],g=M[2],Td,n),n.point(d,h)}function _(){m.point=v,n.lineEnd()}function b(){y(),m.point=A,m.lineEnd=k}function A(E,x){C(i=E,x),o=d,s=h,a=f,c=p,u=g,m.point=C}function k(){r(d,h,l,f,p,g,o,s,i,a,c,u,Td,n),m.lineEnd=_,_()}return m}}var yg=Qi({point:function(t,e){this.stream.point(t*at,e*at)}});function bg(t){return Qi({point:function(e,r){var n=t(e,r);return this.stream.point(n[0],n[1])}})}function xg(t,e,r,n,i){function o(s,a){return s*=n,a*=i,[e+t*s,r-t*a]}return o.invert=function(s,a){return[(s-e)/t*n,(r-a)/t*i]},o}function Od(t,e,r,n,i,o){if(!o)return xg(t,e,r,n,i);var s=tt(o),a=it(o),c=s*t,u=a*t,l=s/t,d=a/t,h=(a*r-s*e)/t,f=(a*e+s*r)/t;function p(g,m){return g*=n,m*=i,[c*g-u*m+e,r-u*g-c*m]}return p.invert=function(g,m){return[n*(l*g-d*m+h),i*(f-d*g-l*m)]},p}function ca(t){return wg(function(){return t})()}function wg(t){var e,r=150,n=480,i=250,o=0,s=0,a=0,c=0,u=0,l,d=0,h=1,f=1,p=null,g=Hs,m=null,v,y,C,_=qi,b=.5,A,k,E,x,M;function w(S){return E(S[0]*at,S[1]*at)}function O(S){return S=E.invert(S[0],S[1]),S&&[S[0]*Ft,S[1]*Ft]}w.stream=function(S){return x&&M===S?x:x=yg(bg(l)(g(A(_(M=S)))))},w.preclip=function(S){return arguments.length?(g=S,p=void 0,T()):g},w.postclip=function(S){return arguments.length?(_=S,m=v=y=C=null,T()):_},w.clipAngle=function(S){return arguments.length?(g=+S?dd(p=S*at):(p=null,Hs),T()):p*Ft},w.clipExtent=function(S){return arguments.length?(_=S==null?(m=v=y=C=null,qi):qs(m=+S[0][0],v=+S[0][1],y=+S[1][0],C=+S[1][1]),T()):m==null?null:[[m,v],[y,C]]},w.scale=function(S){return arguments.length?(r=+S,D()):r},w.translate=function(S){return arguments.length?(n=+S[0],i=+S[1],D()):[n,i]},w.center=function(S){return arguments.length?(o=S[0]%360*at,s=S[1]%360*at,D()):[o*Ft,s*Ft]},w.rotate=function(S){return arguments.length?(a=S[0]%360*at,c=S[1]%360*at,u=S.length>2?S[2]%360*at:0,D()):[a*Ft,c*Ft,u*Ft]},w.angle=function(S){return arguments.length?(d=S%360*at,D()):d*Ft},w.reflectX=function(S){return arguments.length?(h=S?-1:1,D()):h<0},w.reflectY=function(S){return arguments.length?(f=S?-1:1,D()):f<0},w.precision=function(S){return arguments.length?(A=la(k,b=S*S),T()):Xt(b)},w.fitExtent=function(S,F){return aa(w,S,F)},w.fitSize=function(S,F){return Id(w,S,F)},w.fitWidth=function(S,F){return Dd(w,S,F)},w.fitHeight=function(S,F){return Sd(w,S,F)};function D(){var S=Od(r,0,0,h,f,d).apply(null,e(o,s)),F=Od(r,n-S[0],i-S[1],h,f,d);return l=$s(a,c,u),k=Gi(e,F),E=Gi(l,k),A=la(k,b),T()}function T(){return x=M=null,w}return function(){return e=t.apply(this,arguments),w.invert=e.invert&&O,D()}}function Mo(t,e){return[t,Zu(Qu((Ct+e)/2))]}Mo.invert=function(t,e){return[t,2*ao(Xu(e))-Ct]};function ua(){return Cg(Mo).scale(961/Mt)}function Cg(t){var e=ca(t),r=e.center,n=e.scale,i=e.translate,o=e.clipExtent,s=null,a,c,u;e.scale=function(d){return arguments.length?(n(d),l()):n()},e.translate=function(d){return arguments.length?(i(d),l()):i()},e.center=function(d){return arguments.length?(r(d),l()):r()},e.clipExtent=function(d){return arguments.length?(d==null?s=a=c=u=null:(s=+d[0][0],a=+d[0][1],c=+d[1][0],u=+d[1][1]),l()):s==null?null:[[s,a],[c,u]]};function l(){var d=U*n(),h=e(sd(e.rotate()).invert([0,0]));return o(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===Mo?[[Math.max(h[0]-d,s),a],[Math.min(h[0]+d,c),u]]:[[s,Math.max(h[1]-d,a)],[c,Math.min(h[1]+d,u)]])}return l()}function ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function da(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var ha=Symbol("implicit");function Se(){var t=new Fn,e=[],r=[],n=ha;function i(o){let s=t.get(o);if(s===void 0){if(n!==ha)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Fn;for(let s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Se(e,r).unknown(n)},ye.apply(i,arguments),i}function pt(){var t=Se().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,a=!1,c=0,u=0,l=.5;delete t.unknown;function d(){var h=e().length,f=i<n,p=f?i:n,g=f?n:i;o=(g-p)/Math.max(1,h-c+u*2),a&&(o=Math.floor(o)),p+=(g-p-o*(h-c))*l,s=o*(1-c),a&&(p=Math.round(p),s=Math.round(s));var m=Ir(h).map(function(v){return p+o*v});return r(f?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(l=Math.max(0,Math.min(1,h)),d()):l},t.copy=function(){return pt(e(),[n,i]).round(a).paddingInner(c).paddingOuter(u).align(l)},ye.apply(d(),arguments)}function Nd(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Nd(e())},t}function Te(){return Nd(pt.apply(null,arguments).paddingInner(1))}function fa(t){return function(){return t}}function Ji(t){return+t}var Fd=[0,1];function Oe(t){return t}function pa(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:fa(isNaN(e)?NaN:.5)}function Mg(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Eg(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=pa(i,n),o=r(s,o)):(n=pa(n,i),o=r(o,s)),function(a){return o(n(a))}}function Ag(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=pa(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(a){var c=sn(t,a,1,n)-1;return o[c](i[c](a))}}function Rd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kg(){var t=Fd,e=Fd,r=oe,n,i,o,s=Oe,a,c,u;function l(){var h=Math.min(t.length,e.length);return s!==Oe&&(s=Mg(t[0],t[h-1])),a=h>2?Ag:Eg,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(c||(c=a(t.map(n),e,r)))(n(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(n),kt)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Ji),l()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=Ii,l()},d.clamp=function(h){return arguments.length?(s=h?!0:Oe,l()):s!==Oe},d.interpolate=function(h){return arguments.length?(r=h,l()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,f){return n=h,i=f,l()}}function tr(){return kg()(Oe,Oe)}function ma(t,e,r,n){var i=ns(t,e,r),o;switch(n=qe(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=Ps(i,s))&&(n.precision=o),so(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Ls(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Vs(i))&&(n.precision=o-(n.type==="%")*2);break}}return Ue(n)}function bn(t){var e=t.domain;return t.ticks=function(r){var n=e();return Rn(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ma(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],a=n[o],c,u,l=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);l-- >0;){if(u=fe(s,a,r),u===c)return n[i]=s,n[o]=a,e(n);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function q(){var t=tr();return t.copy=function(){return Rd(t,q())},ye.apply(t,arguments),bn(t)}function Vd(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Pd(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ld(t){var e=1,r=t(Vd(e),Pd(e));return r.constant=function(n){return arguments.length?t(Vd(e=+n),Pd(e)):e},bn(r)}function Bd(t){return Math.sign(t)*t*t}function Ig(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function er(){var t=tr(),e=[0,1],r=!1,n;function i(o){var s=Ig(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(Bd(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ji)).map(Bd)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return er(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ye.apply(i,arguments),bn(i)}function Xn(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[sn(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Xn().domain(t).range(e).unknown(r)},ye.apply(i,arguments)}function jd(){var t=0,e=1,r,n,i,o,s=Oe,a=!1,c;function u(d){return d==null||isNaN(d=+d)?c:s(i===0?.5:(d=(o(d)-r)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function l(d){return function(h){var f,p;return arguments.length?([f,p]=h,s=d(f,p),u):[s(0),s(1)]}}return u.range=l(oe),u.rangeRound=l(Ii),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return o=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),u}}function zd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zn(){var t=bn(jd()(Oe));return t.copy=function(){return zd(t,Zn())},da.apply(t,arguments)}function nr(){var t=Ld(jd());return t.copy=function(){return zd(t,nr()).constant(t.constant())},da.apply(t,arguments)}function Kn(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}var ir=Kn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Eo=t=>fs(t[t.length-1]);var $d=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Kn),Ao=Eo($d);var Gd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Kn),ko=Eo(Gd);function Rt(t){return function(){return t}}var ga=Math.abs,St=Math.atan2,Xe=Math.cos,Hd=Math.max,Io=Math.min,ae=Math.sin,xn=Math.sqrt,Bt=1e-12,Qn=Math.PI,rr=Qn/2,qd=2*Qn;function Ud(t){return t>1?0:t<-1?Qn:Math.acos(t)}function _a(t){return t>=1?rr:t<=-1?-rr:Math.asin(t)}function Do(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new gn(e)}function Dg(t){return t.innerRadius}function Sg(t){return t.outerRadius}function Tg(t){return t.startAngle}function Og(t){return t.endAngle}function Ng(t){return t&&t.padAngle}function Fg(t,e,r,n,i,o,s,a){var c=r-t,u=n-e,l=s-i,d=a-o,h=d*c-l*u;if(!(h*h<Bt))return h=(l*(e-o)-d*(t-i))/h,[t+h*c,e+h*u]}function So(t,e,r,n,i,o,s){var a=t-r,c=e-n,u=(s?o:-o)/xn(a*a+c*c),l=u*c,d=-u*a,h=t+l,f=e+d,p=r+l,g=n+d,m=(h+p)/2,v=(f+g)/2,y=p-h,C=g-f,_=y*y+C*C,b=i-o,A=h*g-p*f,k=(C<0?-1:1)*xn(Hd(0,b*b*_-A*A)),E=(A*C-y*k)/_,x=(-A*y-C*k)/_,M=(A*C+y*k)/_,w=(-A*y+C*k)/_,O=E-m,D=x-v,T=M-m,S=w-v;return O*O+D*D>T*T+S*S&&(E=M,x=w),{cx:E,cy:x,x01:-l,y01:-d,x11:E*(i/b-1),y11:x*(i/b-1)}}function va(){var t=Dg,e=Sg,r=Rt(0),n=null,i=Tg,o=Og,s=Ng,a=null,c=Do(u);function u(){var l,d,h=+t.apply(this,arguments),f=+e.apply(this,arguments),p=i.apply(this,arguments)-rr,g=o.apply(this,arguments)-rr,m=ga(g-p),v=g>p;if(a||(a=l=c()),f<h&&(d=f,f=h,h=d),!(f>Bt))a.moveTo(0,0);else if(m>qd-Bt)a.moveTo(f*Xe(p),f*ae(p)),a.arc(0,0,f,p,g,!v),h>Bt&&(a.moveTo(h*Xe(g),h*ae(g)),a.arc(0,0,h,g,p,v));else{var y=p,C=g,_=p,b=g,A=m,k=m,E=s.apply(this,arguments)/2,x=E>Bt&&(n?+n.apply(this,arguments):xn(h*h+f*f)),M=Io(ga(f-h)/2,+r.apply(this,arguments)),w=M,O=M,D,T;if(x>Bt){var S=_a(x/h*ae(E)),F=_a(x/f*ae(E));(A-=S*2)>Bt?(S*=v?1:-1,_+=S,b-=S):(A=0,_=b=(p+g)/2),(k-=F*2)>Bt?(F*=v?1:-1,y+=F,C-=F):(k=0,y=C=(p+g)/2)}var L=f*Xe(y),z=f*ae(y),N=h*Xe(b),G=h*ae(b);if(M>Bt){var Y=f*Xe(C),X=f*ae(C),At=h*Xe(_),Ut=h*ae(_),ht;if(m<Qn)if(ht=Fg(L,z,At,Ut,Y,X,N,G)){var Ne=L-ht[0],xt=z-ht[1],xe=Y-ht[0],An=X-ht[1],Fe=1/ae(Ud((Ne*xe+xt*An)/(xn(Ne*Ne+xt*xt)*xn(xe*xe+An*An)))/2),ni=xn(ht[0]*ht[0]+ht[1]*ht[1]);w=Io(M,(h-ni)/(Fe-1)),O=Io(M,(f-ni)/(Fe+1))}else w=O=0}k>Bt?O>Bt?(D=So(At,Ut,L,z,f,O,v),T=So(Y,X,N,G,f,O,v),a.moveTo(D.cx+D.x01,D.cy+D.y01),O<M?a.arc(D.cx,D.cy,O,St(D.y01,D.x01),St(T.y01,T.x01),!v):(a.arc(D.cx,D.cy,O,St(D.y01,D.x01),St(D.y11,D.x11),!v),a.arc(0,0,f,St(D.cy+D.y11,D.cx+D.x11),St(T.cy+T.y11,T.cx+T.x11),!v),a.arc(T.cx,T.cy,O,St(T.y11,T.x11),St(T.y01,T.x01),!v))):(a.moveTo(L,z),a.arc(0,0,f,y,C,!v)):a.moveTo(L,z),!(h>Bt)||!(A>Bt)?a.lineTo(N,G):w>Bt?(D=So(N,G,Y,X,h,-w,v),T=So(L,z,At,Ut,h,-w,v),a.lineTo(D.cx+D.x01,D.cy+D.y01),w<M?a.arc(D.cx,D.cy,w,St(D.y01,D.x01),St(T.y01,T.x01),!v):(a.arc(D.cx,D.cy,w,St(D.y01,D.x01),St(D.y11,D.x11),!v),a.arc(0,0,h,St(D.cy+D.y11,D.cx+D.x11),St(T.cy+T.y11,T.cx+T.x11),v),a.arc(T.cx,T.cy,w,St(T.y11,T.x11),St(T.y01,T.x01),!v))):a.arc(0,0,h,b,_,v)}if(a.closePath(),l)return a=null,l+""||null}return u.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Qn/2;return[Xe(d)*l,ae(d)*l]},u.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:Rt(+l),u):t},u.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:Rt(+l),u):e},u.cornerRadius=function(l){return arguments.length?(r=typeof l=="function"?l:Rt(+l),u):r},u.padRadius=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:Rt(+l),u):n},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Rt(+l),u):i},u.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:Rt(+l),u):o},u.padAngle=function(l){return arguments.length?(s=typeof l=="function"?l:Rt(+l),u):s},u.context=function(l){return arguments.length?(a=l??null,u):a},u}var JA=Array.prototype.slice;function Yd(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wd(t){this._context=t}Wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xd(t){return new Wd(t)}function Zd(t){return t[0]}function Kd(t){return t[1]}function qt(t,e){var r=Rt(!0),n=null,i=Xd,o=null,s=Do(a);t=typeof t=="function"?t:t===void 0?Zd:Rt(t),e=typeof e=="function"?e:e===void 0?Kd:Rt(e);function a(c){var u,l=(c=Yd(c)).length,d,h=!1,f;for(n==null&&(o=i(f=s())),u=0;u<=l;++u)!(u<l&&r(d=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,c),+e(d,u,c));if(f)return o=null,f+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:Rt(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:Rt(+c),a):e},a.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Rt(!!c),a):r},a.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),a):i},a.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),a):n},a}function Qd(t){return t<0?-1:1}function Jd(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(Qd(o)+Qd(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function th(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ya(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-n)/3;t._context.bezierCurveTo(n+a,i+a*e,o-a,s-a*r,o,s)}function To(t){this._context=t}To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ya(this,this._t0,th(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ya(this,th(this,r=Jd(this,t,e)),r);break;default:ya(this,this._t0,r=Jd(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Rg(t){this._context=new eh(t)}(Rg.prototype=Object.create(To.prototype)).point=function(t,e){To.prototype.point.call(this,e,t)};function eh(t){this._context=t}eh.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function ba(t){return new To(t)}function Ze(t,e,r){this.k=t,this.x=e,this.y=r}Ze.prototype={constructor:Ze,scale:function(t){return t===1?this:new Ze(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ze(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xa=new Ze(1,0,0);wa.prototype=Ze.prototype;function wa(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xa;return t.__zoom}function Vg(t,e){t&1&&j(0,"div",6)}function Pg(t,e){t&1&&j(0,"div",7)}function Lg(t,e){t&1&&j(0,"div",8)}var nh=(()=>{let e=class e{constructor(n,i){this.elementRef=n,this.http=i,this.displayMenu=!1,this.barData={},this.fcount={},this.finalData=[],this.sum=0,this.max_value=0,this.reload=!0,this.z_value=this.max_value,this.bar_options=["Suburb","SellerG","CouncilArea","Regionname","Type","Method"],this.checkboxes=[{id:"c1",label:"bottom"},{id:"c2",label:"left"}],this.sdata={cb1:!0}}ngOnChanges(n){n.barOption&&!n.barOption.firstChange&&this.refresh()}ngOnInit(){typeof document<"u"&&this.loadData()}displayOptions(){this.displayMenu=!this.displayMenu}selectOption(n){this.barOption=n,this.refresh()}loadData(){this.http.get("assets/finalHousing.csv",{responseType:"text"}).subscribe(n=>{let i=Dt(n);this.barData=i,this.fcount={},this.finalData=[],this.max_value=0,this.frequency(this.barOption,this.barData),console.log(this.finalData),this.refresh(),this.finalData.splice(this.finalData.length-1)})}refresh(){I("#title").remove(),I("#mod").append("div").attr("id","title").style("margin","-50px").style("border","1px solid black").append("h5").style("display","grid").style("justify-items","center").text("Frequency Distribution of "+this.barOption),this.fcount={},this.finalData=[],this.max_value=0,this.frequency(this.barOption,this.barData),this.finalData.splice(this.finalData.length-1),this.createChart()}z_refresh(){I("#title").remove(),I("#mod").append("div").attr("id","title"),this.createChart()}zoomIn(){this.z_value-=10,this.z_refresh()}zoomOut(){this.z_value+=10,this.z_refresh()}frequency(n,i){for(let o in i)this.fcount.hasOwnProperty(i[o][n])?this.fcount[i[o][n]]=this.fcount[i[o][n]]+1:this.fcount[i[o][n]]=1;console.log("start");for(let o in this.fcount)this.finalData.push({region:o,value:this.fcount[o]}),this.sum+=this.fcount[o],this.max_value=Math.max(this.max_value,this.fcount[o]);this.z_value=this.max_value+50,console.log("72 line "+this.sum)}createChart(){console.log("again"),console.log(this.sdata.cb1);let n=this.finalData;console.log(this.finalData);let i={top:60,right:60,bottom:120,left:160},o=780-i.left-i.right,s=650-i.top-i.bottom,a=I("#title").append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")");if(this.sdata.cb1){let c=pt().range([0,o]).domain(n.map(function(l){return l.region})).padding(.4);a.append("g").attr("transform","translate(0,"+s+")").call(lt(c)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),a.append("text").attr("transform","translate("+(o-50)+" ,"+(s+i.top+30)+")").style("text-anchor","middle").text(this.barOption);let u=q().domain([0,this.z_value]).range([s,0]);a.append("g").call(J(u)),a.append("text").attr("transform","translate(-60 ,50)rotate(-90)").style("text-anchor","middle").text("Frequency ->"),console.log("error"),console.log(n),a.selectAll("rect").data(n).enter().append("rect").attr("x",function(l){return c(l.region)}).attr("y",function(l){return u(l.value)}).attr("width",c.bandwidth()).attr("height",function(l){return s-u(l.value)}).attr("fill","lightgreen").on("mouseover",function(l){I(this).style("fill","#6495ED"),a.append("text").attr("class","bar-value").attr("x",Number(c(l.target.__data__.region))+c.bandwidth()/2).attr("y",u(l.target.__data__.value)-5).text(l.target.__data__.value).style("text-anchor","middle")}).on("mouseout",function(){I(this).style("fill","lightgreen"),a.selectAll(".bar-value").remove()})}else{let c=pt().range([0,s]).domain(n.map(function(l){return l.region})).padding(.4);a.append("g").call(J(c)).selectAll("text").style("text-anchor","end"),a.append("text").attr("transform","translate(-140 ,80)rotate(-90)").style("text-anchor","middle").text(this.barOption);let u=q().domain([0,this.z_value]).range([0,o]);a.append("g").attr("transform","translate(0,"+s+")").call(lt(u)),a.append("text").attr("transform","translate("+(o-50)+" ,"+(s+i.top+10)+")").style("text-anchor","middle").text("Frequency ->"),a.selectAll("rect").data(n).enter().append("rect").attr("y",function(l){return c(l.region)}).attr("x",l=>0).attr("height",c.bandwidth()).attr("width",function(l){return u(l.value)}).attr("fill","lightgreen").on("mouseover",function(l){I(this).style("fill","#6495ED"),a.append("text").attr("class","bar-value").attr("y",Number(c(l.target.__data__.region))+c.bandwidth()/2+5).attr("x",u(l.target.__data__.value)+20).text(l.target.__data__.value).style("text-anchor","middle")}).on("mouseout",function(){I(this).style("fill","lightgreen"),a.selectAll(".bar-value").remove()})}this.reload=!0}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt))},e.\u0275cmp=mt({type:e,selectors:[["app-bar"]],inputs:{barOption:"barOption"},standalone:!0,features:[ne,gt],decls:7,vars:5,consts:[[1,"form-check"],["type","checkbox","id","flexCheckIndeterminate",1,"form-check-input",2,"border-radius","27px","width","38px",3,"value","ngModel","ngModelChange","change"],["for","flexCheckIndeterminate",1,"form-check-label"],["class","left",4,"ngIf"],["class","right",4,"ngIf"],["id","mod","style","display: table; margin: 0 auto;",4,"ngIf"],[1,"left"],[1,"right"],["id","mod",2,"display","table","margin","0 auto"]],template:function(i,o){i&1&&(V(0,"div",0)(1,"input",1),Q("ngModelChange",function(a){return o.sdata.cb1=a})("change",function(){return o.refresh()}),R(),V(2,"label",2),Z(3," Tilt "),R(),dt(4,Vg,1,0,"div",3)(5,Pg,1,0,"div",4),R(),dt(6,Lg,1,0,"div",5)),i&2&&(B(),$("value","bottom")("ngModel",o.sdata.cb1),B(3),$("ngIf",o.sdata.cb1),B(),$("ngIf",!o.sdata.cb1),B(),$("ngIf",o.reload==!0))},dependencies:[ue,de,Wo,br,ci,Tt,te],styles:[".high[_ngcontent-%COMP%]{padding-left:7px;text-decoration:auto;width:100%;display:block}.high[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#353131;cursor:pointer}.left[_ngcontent-%COMP%]{border:solid 1px;background:#fff;z-index:2;position:absolute;margin-top:-19.5px;border-radius:17px;width:24px;height:15px;margin-left:-24px}.right[_ngcontent-%COMP%]{border:solid 1px;background:#fff;z-index:2;position:absolute;margin-top:-19.5px;border-radius:17px;width:24px;height:15px;margin-left:-11px}"]});let t=e;return t})();var Ma;try{Ma=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ma=!1}var be=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?il(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ma)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(rt(Za))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sr;function Bg(){if(sr==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sr=!0}))}finally{sr=sr||!1}return sr}function Jn(t){return Bg()?t:!!t.capture}var Ca;function jg(){if(Ca==null){let t=typeof document<"u"?document.head:null;Ca=!!(t&&(t.createShadowRoot||t.attachShadow))}return Ca}function ih(t){if(jg()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Je(t){return t.composedPath?t.composedPath()[0]:t.target}function rh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Aa(t){return Array.isArray(t)?t:[t]}function wn(t){return t instanceof et?t.nativeElement:t}var oh=new Set,Cn,zg=(()=>{let e=class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Gg}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&$g(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(i){return new(i||e)(rt(be),rt(Ka,8))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $g(t,e){if(!oh.has(t))try{Cn||(Cn=document.createElement("style"),e&&(Cn.nonce=e),Cn.setAttribute("type","text/css"),document.head.appendChild(Cn)),Cn.sheet&&(Cn.sheet.insertRule(`@media ${t} {body{ }}`,0),oh.add(t))}catch(r){console.error(r)}}function Gg(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var ah=(()=>{let e=class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new ri}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return sh(Aa(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=sh(Aa(n)).map(a=>this._registerQuery(a).observable),s=$a(o);return s=Ga(s.pipe(Vo(1)),s.pipe(cr(1),Ro(0))),s.pipe(kn(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:l})=>{c.matches=c.matches||u,c.breakpoints[l]=u}),c}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),s={observable:new La(a=>{let c=u=>this._zone.run(()=>a.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Ua(i),kn(({matches:a})=>({query:n,matches:a})),ur(this._destroySubject)),mql:i};return this._queries.set(n,s),s}};e.\u0275fac=function(i){return new(i||e)(rt(zg),rt(Ve))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sh(t){return t.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}function Ia(t){return t.buttons===0||t.detail===0}function Da(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Hg=new jt("cdk-input-modality-detector-options"),qg={ignoreKeys:[18,17,224,91,16]},uh=650,ti=Jn({passive:!0,capture:!0}),Ug=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,i,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Ba(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Je(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<uh||(this._modality.next(Ia(a)?"keyboard":"mouse"),this._mostRecentTarget=Je(a))},this._onTouchstart=a=>{if(Da(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Je(a)},this._options=ct(ct({},qg),s),this.modalityDetected=this._modality.pipe(cr(1)),this.modalityChanged=this.modalityDetected.pipe(qa()),n.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,ti),o.addEventListener("mousedown",this._onMousedown,ti),o.addEventListener("touchstart",this._onTouchstart,ti)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ti),document.removeEventListener("mousedown",this._onMousedown,ti),document.removeEventListener("touchstart",this._onTouchstart,ti))}};e.\u0275fac=function(i){return new(i||e)(rt(be),rt(Ve),rt(In),rt(Hg,8))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var No=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(No||{}),Yg=new jt("cdk-focus-monitor-default-options"),Oo=Jn({passive:!0,capture:!0}),dh=(()=>{let e=class e{constructor(n,i,o,s,a){this._ngZone=n,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ri,this._rootNodeFocusAndBlurListener=c=>{let u=Je(c);for(let l=u;l;l=l.parentElement)c.type==="focus"?this._onFocus(c,l):this._onBlur(c,l)},this._document=s,this._detectionMode=a?.detectionMode||No.IMMEDIATE}monitor(n,i=!1){let o=wn(n);if(!this._platform.isBrowser||o.nodeType!==1)return za();let s=ih(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new ri,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(n){let i=wn(n),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(n,i,o){let s=wn(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===No.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===No.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?uh:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,i){let o=this._elementInfo.get(i),s=Je(n);!o||!o.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),o)}_onBlur(n,i){let o=this._elementInfo.get(i);!o||o.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let i=n.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Oo),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Oo)}),this._rootNodeFocusListenerCount.set(i,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ur(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Oo),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Oo),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,o){this._setClasses(n,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){let i=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&i.push([s,o])}),i}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(rt(Ve),rt(be),rt(Ug),rt(In,8),rt(Yg,8))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mn=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Mn||{}),lh="cdk-high-contrast-black-on-white",ch="cdk-high-contrast-white-on-black",ka="cdk-high-contrast-active",hh=(()=>{let e=class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=oi(ah).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Mn.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Mn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Mn.BLACK_ON_WHITE}return Mn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(ka,lh,ch),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Mn.BLACK_ON_WHITE?n.add(ka,lh):i===Mn.WHITE_ON_BLACK&&n.add(ka,ch)}}};e.\u0275fac=function(i){return new(i||e)(rt(be),rt(In))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Sa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Zt({});let t=e;return t})();var Wg=["mat-internal-form-field",""],Xg=["*"];function Zg(){return!0}var Kg=new jt("mat-sanity-checks",{providedIn:"root",factory:Zg}),Fa=(()=>{let e=class e{constructor(n,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return rh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(i){return new(i||e)(rt(hh),rt(Kg,8),rt(In))},e.\u0275mod=Kt({type:e}),e.\u0275inj=Zt({imports:[Sa,Sa]});let t=e;return t})();var ee=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(ee||{}),Ta=class{constructor(e,r,n,i=!1){this._renderer=e,this.element=r,this.config=n,this._animationForciblyDisabledThroughCss=i,this.state=ee.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},ph=Jn({passive:!0,capture:!0}),Oa=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let r=Je(e);r&&this._events.get(e.type)?.forEach((n,i)=>{(i===r||i.contains(r))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,r,n,i){let o=this._events.get(r);if(o){let s=o.get(n);s?s.add(i):o.set(n,new Set([i]))}else this._events.set(r,new Map([[n,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,ph)})}removeHandler(e,r,n){let i=this._events.get(e);if(!i)return;let o=i.get(r);o&&(o.delete(n),o.size===0&&i.delete(r),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,ph)))}},mh={enterDuration:225,exitDuration:150},Qg=800,gh=Jn({passive:!0,capture:!0}),_h=["mousedown","touchstart"],vh=["mouseup","mouseleave","touchend","touchcancel"],ar=class ar{constructor(e,r,n,i){this._target=e,this._ngZone=r,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=wn(n))}fadeInRipple(e,r,n={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=ct(ct({},mh),n.animation);n.centered&&(e=i.left+i.width/2,r=i.top+i.height/2);let s=n.radius||Jg(e,r,i),a=e-i.left,c=r-i.top,u=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${a-s}px`,l.style.top=`${c-s}px`,l.style.height=`${s*2}px`,l.style.width=`${s*2}px`,n.color!=null&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);let d=window.getComputedStyle(l),h=d.transitionProperty,f=d.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||i.width===0&&i.height===0,g=new Ta(this,l,n,p);l.style.transform="scale3d(1, 1, 1)",g.state=ee.FADING_IN,n.persistent||(this._mostRecentTransientRipple=g);let m=null;return!p&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>this._finishRippleTransition(g),y=()=>this._destroyRipple(g);l.addEventListener("transitionend",v),l.addEventListener("transitioncancel",y),m={onTransitionEnd:v,onTransitionCancel:y}}),this._activeRipples.set(g,m),(p||!u)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===ee.FADING_OUT||e.state===ee.HIDDEN)return;let r=e.element,n=ct(ct({},mh),e.config.animation);r.style.transitionDuration=`${n.exitDuration}ms`,r.style.opacity="0",e.state=ee.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let r=wn(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,_h.forEach(n=>{ar._eventManager.addHandler(this._ngZone,n,r,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{vh.forEach(r=>{this._triggerElement.addEventListener(r,this,gh)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===ee.FADING_IN?this._startFadeOutTransition(e):e.state===ee.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let r=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=ee.VISIBLE,!n&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=ee.HIDDEN,r!==null&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){let r=Ia(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Qg;!this._target.rippleDisabled&&!r&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Da(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=e.changedTouches;if(r)for(let n=0;n<r.length;n++)this.fadeInRipple(r[n].clientX,r[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let r=e.state===ee.VISIBLE||e.config.terminateOnPointerUp&&e.state===ee.FADING_IN;!e.config.persistent&&r&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(_h.forEach(r=>ar._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&vh.forEach(r=>e.removeEventListener(r,this,gh)))}};ar._eventManager=new Oa;var Na=ar;function Jg(t,e,r){let n=Math.max(Math.abs(t-r.left),Math.abs(t-r.right)),i=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(n*n+i*i)}var t0=new jt("mat-ripple-global-options"),yh=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,i,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Na(this,i,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ct(ct(ct({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,i,ct(ct({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,ct(ct({},this.rippleConfig),n))}};e.\u0275fac=function(i){return new(i||e)(P(et),P(Ve),P(be),P(t0,8),P(hr,8))},e.\u0275dir=Yt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){i&2&&zt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[ut.None,"matRippleColor","color"],unbounded:[ut.None,"matRippleUnbounded","unbounded"],centered:[ut.None,"matRippleCentered","centered"],radius:[ut.None,"matRippleRadius","radius"],animation:[ut.None,"matRippleAnimation","animation"],disabled:[ut.None,"matRippleDisabled","disabled"],trigger:[ut.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})();var bh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=mt({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,o){i&2&&zt("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[gt],attrs:Wg,ngContentSelectors:Xg,decls:1,vars:0,template:function(i,o){i&1&&(pr(),mr(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0});let t=e;return t})();var e0=["switch"];function n0(t,e){t&1&&(V(0,"div",12),Ya(),V(1,"svg",13),j(2,"path",14),R(),V(3,"svg",15),j(4,"path",16),R()())}var i0=["*"],r0=new jt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),o0={provide:Nn,useExisting:nn(()=>xh),multi:!0},Fo=class{constructor(e,r){this.source=e,this.checked=r}},s0=0,xh=(()=>{let e=class e{_createChangeEvent(n){return new Fo(this,n)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(n){this._checked=n,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,i,o,s,a,c){this._elementRef=n,this._focusMonitor=i,this._changeDetectorRef=o,this.defaults=a,this._onChange=u=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new we,this.toggleChange=new we,this.tabIndex=parseInt(s)||0,this.color=a.color||"accent",this._noopAnimations=c==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++s0}`,this.hideIcon=a.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n==="keyboard"||n==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):n||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(n){n.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorOnChange=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Fo(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};e.\u0275fac=function(i){return new(i||e)(P(et),P(dh),P(si),Wa("tabindex"),P(r0),P(hr,8))},e.\u0275cmp=mt({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(i,o){if(i&1&&Bo(e0,5),i&2){let s;jo(s=zo())&&(o._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,o){i&2&&(Lo("id",o.id),rn("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Qa(o.color?"mat-"+o.color:""),zt("mat-mdc-slide-toggle-focused",o._focused)("mat-mdc-slide-toggle-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[ut.None,"aria-label","ariaLabel"],ariaLabelledby:[ut.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[ut.None,"aria-describedby","ariaDescribedby"],required:[ut.HasDecoratorInputTransform,"required","required",ce],color:"color",disabled:[ut.HasDecoratorInputTransform,"disabled","disabled",ce],disableRipple:[ut.HasDecoratorInputTransform,"disableRipple","disableRipple",ce],tabIndex:[ut.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>n==null?0:el(n)],checked:[ut.HasDecoratorInputTransform,"checked","checked",ce],hideIcon:[ut.HasDecoratorInputTransform,"hideIcon","hideIcon",ce]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[yt([o0,{provide:Xo,useExisting:e,multi:!0}]),fr,ne,gt],ngContentSelectors:i0,decls:13,vars:24,consts:[["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,o){if(i&1&&(pr(),V(0,"div",0)(1,"button",1,2),Q("click",function(){return o._handleClick()}),j(3,"div",3),V(4,"div",4)(5,"div",5)(6,"div",6),j(7,"div",7),R(),V(8,"div",8),j(9,"div",9),R(),dt(10,n0,5,0,"div",10),R()()(),V(11,"label",11),Q("click",function(a){return a.stopPropagation()}),mr(12),R()()),i&2){let s=tl(2);$("labelPosition",o.labelPosition),B(),zt("mdc-switch--selected",o.checked)("mdc-switch--unselected",!o.checked)("mdc-switch--checked",o.checked)("mdc-switch--disabled",o.disabled),$("tabIndex",o.disabled?-1:o.tabIndex)("disabled",o.disabled),rn("id",o.buttonId)("name",o.name)("aria-label",o.ariaLabel)("aria-labelledby",o._getAriaLabelledBy())("aria-describedby",o.ariaDescribedby)("aria-required",o.required||null)("aria-checked",o.checked),B(8),$("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),B(),Po(10,o.hideIcon?-1:10),B(),$("for",o.buttonId),rn("id",o._labelId)}},dependencies:[yh,bh],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0});let t=e;return t})();var ei=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Zt({imports:[xh,Fa,Fa]});let t=e;return t})();function a0(t,e){if(t&1){let r=Le();V(0,"ul")(1,"input",7),Q("ngModelChange",function(i){Qt(r);let o=ft();return Jt(o.value1=i)})("click",function(){let o=Qt(r).$implicit,s=ft();return Jt(s.refresh("v1",o))}),R(),V(2,"label",8),Z(3),R(),j(4,"br"),R()}if(t&2){let r=e.$implicit,n=ft();B(),$("value",r)("ngModel",n.value1),B(),$("for",r),B(),Be(r)}}function l0(t,e){if(t&1){let r=Le();V(0,"ul")(1,"input",9),Q("ngModelChange",function(i){Qt(r);let o=ft();return Jt(o.value2=i)})("click",function(){let o=Qt(r).$implicit,s=ft();return Jt(s.refresh("v2",o))}),R(),V(2,"label",8),Z(3),R(),j(4,"br"),R()}if(t&2){let r=e.$implicit,n=ft();B(),$("value",r)("ngModel",n.value2),B(),$("for",r),B(),Be(r)}}function c0(t,e){t&1&&j(0,"div",10)}var wh=t=>({display:t}),Ch=(()=>{let e=class e{constructor(n,i){this.elementRef=n,this.http=i,this.cat_options=["Suburb","SellerG","CouncilArea","Regionname","Type","Method","Postcode"],this.num_options=["Rooms","Distance","Propertycount","Landsize","YearBuilt","Bathroom","Price"],this.bar_options=["Suburb","SellerG","Bathroom","CouncilArea","Regionname","Type","Price","Method","Rooms","Distance","Postcode","Propertycount","Landsize","YearBuilt"],this.fcount={},this.f1=[],this.f2=[],this.finalData=[],this.value1="none",this.value2="none",this.sum=0,this.max_value=0,this.cv1_max=0,this.cv2_max=0,this.cv1_min=99999999,this.cv2_min=99999999,this.arr1=[],this.arr2=[],this.r_data={},this.reload=!1,this.displayMenu1=!1,this.displayMenu2=!1}ngOnInit(){typeof document<"u"&&this.loadData()}displayOptions1(){this.displayMenu1=!this.displayMenu1}displayOptions2(){this.displayMenu2=!this.displayMenu2}loadData(){this.http.get("assets/finalHousing.csv",{responseType:"text"}).subscribe(n=>{let i=Dt(n);this.r_data=i,this.createChart(i)})}refresh(n,i){n=="v1"?(this.value1=i,this.displayMenu1=!1):(this.value2=i,this.displayMenu2=!1),this.cv1_max=0,this.cv1_min=99999999,this.arr1=[],this.cv2_max=0,this.cv2_min=99999999,this.arr2=[],console.log(this.cv1_min+" "+this.cv1_max+" "+this.value1),console.log(this.cv2_min+" "+this.cv2_max+" "+this.value2),this.value1!="none"&&this.value2!="none"&&this.createChart(this.r_data)}frequency(n,i){let o=1;if(this.fcount=[],this.cat_options.includes(n)){n==this.value1&&(this.f1=[]),n==this.value2&&(this.f2=[]);for(let s in i)this.fcount.hasOwnProperty(i[s][n])||(this.fcount[i[s][n]]=o,n==this.value1&&this.f1.push(i[s][n]),n==this.value2&&this.f2.push(i[s][n]),o++),this.value1==n&&(this.arr1.push(this.fcount[i[s][n]]),this.cv1_max=o-1,this.cv1_min=1),this.value2==n&&(this.arr2.push(this.fcount[i[s][n]]),this.cv2_max=o-1,this.cv2_min=1);console.log(this.f1)}else{console.log("numeric value");for(let s of i)this.value1==this.value2?(this.arr1.push(s[n]),this.cv1_max=Math.max(this.cv1_max,s[n]),this.cv1_min=Math.min(this.cv1_min,s[n]),this.arr2.push(s[n]),this.cv2_max=Math.max(this.cv2_max,s[n]),this.cv2_min=Math.min(this.cv2_min,s[n])):this.value1==n?(this.arr1.push(s[n]),this.cv1_max=Math.max(this.cv1_max,s[n]),this.cv1_min=Math.min(this.cv1_min,s[n])):(this.arr2.push(s[n]),this.cv2_max=Math.max(this.cv2_max,s[n]),this.cv2_min=Math.min(this.cv2_min,s[n]))}console.log(this.cv1_min+"  "+this.cv1_max),console.log(this.cv2_min+"  "+this.cv2_max)}createChart(n){this.reload=!1,I("#title").remove(),I("#mod").append("div").attr("id","title").style("width","700px").style("margin-top","-20px").style("border","1px solid black").append("h5").style("display","grid").style("justify-items","center").text("Relationship between "+this.value1+" and "+this.value2),this.value1==this.value2?this.frequency(this.value1,n):(this.frequency(this.value1,n),this.frequency(this.value2,n)),console.log(this.cv1_min+" "+this.cv1_max+" "+this.value1),console.log(this.cv2_min+" "+this.cv2_max+" "+this.value2);var i={top:80,right:200,bottom:130,left:160},o=870-i.left-i.right,s=740-i.top-i.bottom,a=I("#title").append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")"),c;this.cat_options.includes(this.value1)?(this.f1.pop(),c=pt().domain(this.f1.map(l=>l)).range([0,o]).padding(1),a.append("g").attr("transform","translate(0,"+s+")").call(lt(c)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end")):(c=q().domain([this.cv1_min,this.cv1_max]).range([0,o]),a.append("g").attr("transform","translate(0,"+s+")").call(lt(c))),a.append("text").attr("transform","translate("+(o-180)+" ,"+(s+i.top+20)+")").style("text-anchor","middle").style("font-size","small").text(this.value1+" ->");var u;this.cat_options.includes(this.value2)?(this.f2.pop(),u=pt().domain(this.f2.map(l=>l)).range([s,0]).padding(1)):u=q().domain([this.cv2_min,this.cv2_max]).range([s,0]),a.append("g").call(J(u)),a.append("text").attr("transform","translate(-130 ,180)rotate(-90)").style("text-anchor","middle").style("font-size","small").text(this.value2+" ->"),a.append("g").selectAll("dot").data(n).enter().append("circle").attr("cx",(l,d)=>{if(this.cat_options.includes(this.value1)||this.cat_options.includes(this.value2)){let h=c(l[this.value1])+Math.random()*30-15;return h<c(this.cv1_min)?c(this.cv1_min):h}return c(l[this.value1])}).attr("cy",(l,d)=>{if(this.cat_options.includes(this.value1)||this.cat_options.includes(this.value2)){let h=u(l[this.value2])+Math.random()*30-15;return h>u(this.cv2_min)?u(this.cv2_min):h}return u(l[this.value2])}).attr("r",1.5).style("fill","#69b3a2"),this.reload=!0}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt))},e.\u0275cmp=mt({type:e,selectors:[["app-scatter"]],standalone:!0,features:[gt],decls:14,vars:9,consts:[[2,"display","grid","grid-template-columns","13% 20% 40%"],[1,"dropdown"],["type","button","data-toggle","dropdown",1,"btn","btn-primary","dropdown-toggle",2,"width","160px",3,"click"],[1,"caret"],[1,"dropdown-menu",2,"padding","10px",3,"ngStyle"],[4,"ngFor","ngForOf"],["style","background-color: white;","id","mod",4,"ngIf"],["type","radio","name","x-axis",3,"value","ngModel","ngModelChange","click"],[3,"for"],["type","radio","name","y-axis",3,"value","ngModel","ngModelChange","click"],["id","mod",2,"background-color","white"]],template:function(i,o){i&1&&(V(0,"div",0)(1,"div",1)(2,"button",2),Q("click",function(){return o.displayOptions1()}),Z(3," x-axis "),j(4,"span",3),R(),V(5,"div",4),dt(6,a0,5,4,"ul",5),R()(),V(7,"div",1)(8,"button",2),Q("click",function(){return o.displayOptions2()}),Z(9," y-axis "),j(10,"span",3),R(),V(11,"div",4),dt(12,l0,5,4,"ul",5),R()(),dt(13,c0,1,0,"div",6),R()),i&2&&(B(5),$("ngStyle",on(5,wh,o.displayMenu1==!0?"block":"none")),B(),$("ngForOf",o.bar_options),B(5),$("ngStyle",on(7,wh,o.displayMenu2==!0?"block":"none")),B(),$("ngForOf",o.bar_options),B(),$("ngIf",o.reload==!0))},dependencies:[ue,ei,de,yr,Ko,br,ci,Tt,Dn,te,Sn]});let t=e;return t})();var _t=(()=>{let e=class e{constructor(n){this.http=n}getData(){return this.http.get("http://127.0.0.1:5000/api/data")}sendData(n){return this.http.post("http://127.0.0.1:5000/reduce_dimensions",{data:n})}getCluster(){return this.http.get("http://127.0.0.1:5000/k-means")}send_di(n){return this.http.post("http://127.0.0.1:5000/d_index",{data:n})}get_d_attributes(n){return this.http.post("http://127.0.0.1:5000/d_attributes",{data:n})}get_mds(){return this.http.get("http://127.0.0.1:5000/mds")}};e.\u0275fac=function(i){return new(i||e)(rt(wt))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mh=(()=>{let e=class e{constructor(n,i,o){this.elementRef=n,this.http=i,this.dataService=o,this.arr=new Array(16),this.attr=["Rooms","Distance","Price","Landsize"],this.cat_options=["Suburb","SellerG","CouncilArea","Regionname","Type","Method","Postcode"],this.num_options=["Rooms","Distance","Propertycount","Landsize","YearBuilt","Bathroom","Price"],this.bar_options=["Suburb","SellerG","Bathroom","CouncilArea","Regionname","Type","Price","Method","Rooms","Distance","Postcode","Propertycount","Landsize","YearBuilt"],this.fcount={},this.f1=[],this.f2=[],this.finalData=[],this.value1="Rooms",this.value2="Price",this.sum=0,this.max_value=0,this.cv1_max=-999999999,this.cv2_max=-999999999,this.cv1_min=99999999,this.cv2_min=99999999,this.arr1=[],this.arr2=[],this.r_data={},this.reload=!1,this.displayMenu1=!1,this.displayMenu2=!1,this.id=0}ngOnInit(){typeof document<"u"&&(this.loadData(),this.dataService.getCluster().subscribe(n=>{this.clusteredData=n.clustered_label[this.kc],this.clustered_label=n.clustered_label,this.dataService.get_d_attributes(this.di+1).subscribe(i=>{console.log("Response from server:",i),this.attr=i.attributes,this.createAll()})}))}ngOnChanges(n){n.di&&!n.di.firstChange&&typeof document<"u"&&(console.log("ngonchange "+this.di),this.dataService.get_d_attributes(this.di+1).subscribe(i=>{console.log("Response from server:",i),this.attr=i.attributes,this.createAll()},i=>{console.error("Error:",i)})),n.kc&&!n.kc.firstChange&&typeof document<"u"&&(console.log("changed"+this.kc),this.clusteredData=this.clustered_label[this.kc],this.createAll())}displayOptions1(){this.displayMenu1=!this.displayMenu1}displayOptions2(){this.displayMenu2=!this.displayMenu2}loadData(){this.http.get("assets/updated.csv",{responseType:"text"}).subscribe(n=>{let i=Dt(n);this.r_data=i})}refresh(){this.cv1_max=-9999999,this.cv1_min=99999999,this.arr1=[],this.cv2_max=-9999999,this.cv2_min=99999999,this.arr2=[]}frequency(n,i){let o=1;this.fcount=[];for(let s of i)this.value1==this.value2?(this.arr1.push(s[n]),this.cv1_max=Math.max(this.cv1_max,s[n]),this.cv1_min=Math.min(this.cv1_min,s[n]),this.arr2.push(s[n]),this.cv2_max=Math.max(this.cv2_max,s[n]),this.cv2_min=Math.min(this.cv2_min,s[n])):this.value1==n?(this.arr1.push(s[n]),this.cv1_max=Math.max(this.cv1_max,s[n]),this.cv1_min=Math.min(this.cv1_min,s[n])):(this.arr2.push(s[n]),this.cv2_max=Math.max(this.cv2_max,s[n]),this.cv2_min=Math.min(this.cv2_min,s[n]))}createAll(){this.id=0;for(let n of this.attr){this.value2=n,this.createname(this.value2);for(let i of this.attr)this.value1=i,I("#div-"+this.id).remove(),I("#mod1").append("div").attr("id","div-"+this.id).style("border","1px solid black"),this.createChart2(this.id,this.r_data),this.id++}I("#div-"+this.id).remove(),I("#mod1").append("div").attr("id","div-"+this.id),this.id++;for(let n of this.attr)this.createname(n)}createname(n){I("#div-"+this.id).remove(),I("#mod1").append("div").attr("id","div-"+this.id);var i={top:20,right:20,bottom:20,left:40},o=150-i.left-i.right,s=80-i.top-i.bottom;if(this.id>19)I("#div-"+this.id).style("text-anchor","middle").style("font-size","10px").append("text").text(n+" ->").style("margin-left","35px");else{var a=I("#div-"+this.id).append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom+10).append("g").attr("transform","translate("+i.left+","+i.top+")");a.append("text").attr("transform","translate(-10 ,"+(s/2+8)+")rotate(-90)").style("text-anchor","middle").style("font-size","10px").text(n+" ->")}this.id++}createChart(n,i){this.refresh();var o={top:30,right:30,bottom:30,left:60},s=300-o.left-o.right,a=250-o.top-o.bottom,c=I("#div-"+n).append("svg").attr("width",s+o.left+o.right).attr("height",a+o.top+o.bottom+10).append("g").attr("transform","translate("+o.left+","+o.top+")");let u=[],l=[];for(let g of i)u.push(Number(g[this.value1])),l.push(Number(g[this.value2]));this.cv1_min=Number(ot(u)),this.cv1_max=Number(nt(u)),this.cv2_min=Number(ot(l)),this.cv2_max=Number(nt(l));var d=q().domain([this.cv1_min,this.cv1_max]).nice().range([0,s]),h=lt(d).ticks(2);c.append("g").attr("transform","translate(0,"+a+")").attr("class","x-axis").call(h);var f=q().domain([this.cv2_min,this.cv2_max]).nice().range([a,0]),p=J(f).ticks(2);c.append("g").attr("class","y-axis").call(p),c.append("text").attr("transform","translate("+s/2+" ,"+(a+o.top)+")").style("text-anchor","middle").style("font-size","10px").text(this.value1+" ->"),c.append("text").attr("transform","translate(-40 ,"+a/2+")rotate(-90)").style("text-anchor","middle").style("font-size","10px").text(this.value2+" ->"),c.append("g").selectAll("dot").data(i).enter().append("circle").attr("cx",(g,m)=>d(g[this.value1])).attr("cy",(g,m)=>f(g[this.value2])).attr("r",1.5).style("fill","#69b3a2")}createChart2(n,i){this.refresh();var o={top:10,right:10,bottom:10,left:10},s=150-o.left-o.right,a=100-o.top-o.bottom,c=I("#div-"+n).append("svg").attr("width",s+o.left+o.right).attr("height",a+o.top+o.bottom+10).append("g").attr("transform","translate("+o.left+","+o.top+")");let u=[],l=[];for(let m of i)u.push(Number(m[this.value1])),l.push(Number(m[this.value2]));this.cv1_min=Number(ot(u)),this.cv1_max=Number(nt(u)),this.cv2_min=Number(ot(l)),this.cv2_max=Number(nt(l));var d=q().domain([this.cv1_min,this.cv1_max]).nice().range([0,s]),h=lt(d).ticks(3),f=q().domain([this.cv2_min,this.cv2_max]).nice().range([a,0]),p=J(f).ticks(3);let g=["skyblue","lightsalmon","red","green","lightgreen","orange","cornflowerblue","lightcoral","limegreen","mediumseagreen"];c.append("g").selectAll("dot").data(i).enter().append("circle").attr("cx",(m,v)=>d(m[this.value1])).attr("cy",(m,v)=>f(m[this.value2])).attr("r",1.5).style("fill",(m,v)=>{let y=this.clusteredData[Number(v)];return g[y]})}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt),P(_t))},e.\u0275cmp=mt({type:e,selectors:[["app-smatrix"]],inputs:{di:"di",kc:"kc"},standalone:!0,features:[yt([_t]),ne,gt],decls:6,vars:0,consts:[["id","title"],["id","mod",2,"border","1px solid black"],[2,"text-align","center"],["id","mod1",1,"sm"]],template:function(i,o){i&1&&(V(0,"div"),j(1,"div",0),V(2,"div",1)(3,"h5",2),Z(4,"ScatterPlot Matrix"),R(),j(5,"div",3),R()())},dependencies:[ue,ei,de,Tt],styles:[".sm[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px 150px 150px 150px 150px;gap:10px;justify-content:center;padding:10px}.smc[_ngcontent-%COMP%]{border:1px solid}"]});let t=e;return t})();function u0(t,e){t&1&&(V(0,"div",3)(1,"div",4)(2,"span",5),Z(3,"Loading..."),R()()())}var d0=t=>({"background-color":t});function h0(t,e){if(t&1&&(V(0,"tr",18)(1,"td",16),Z(2),R(),V(3,"td",16),Z(4),R()()),t&2){let r=e.$implicit,n=e.index,i=ft(2);$("ngStyle",on(3,d0,n%2!=0?"":"#d3d3d34d")),B(2),Be(r),B(2),Be(i.attr_values[n])}}function f0(t,e){if(t&1&&(V(0,"div",6)(1,"div",7),j(2,"div",8)(3,"div",9),R(),V(4,"div",10),j(5,"div",11)(6,"app-smatrix",12),R(),V(7,"div",7),j(8,"div",13),R(),V(9,"div",14)(10,"table",15)(11,"thead")(12,"tr")(13,"th",16)(14,"strong"),Z(15,"Attributes"),R()(),V(16,"th",16)(17,"strong"),Z(18,"Sum of Square Loadings"),R()()()(),V(19,"tbody"),dt(20,h0,5,5,"tr",17),R()()()()),t&2){let r=ft();B(6),$("kc",r.kc)("di",r.di),B(14),$("ngForOf",r.top_attr)}}var Eh=(()=>{let e=class e{constructor(n,i,o,s){this.elementRef=n,this.http=i,this.renderer=o,this.dataService=s,this.loading=!1,this.eigenvalues={},this.pc=[],this.di=4,this.clustered_label=[],this.loadings=[],this.kc=2,this.columns=[],this.p1=0,this.p2=1,this.top_attr=[],this.pc1=[],this.pc2=[],this.clusteredData=[],this.wcss=[]}ngOnInit(){typeof document<"u"&&(this.sendData(),this.loadData())}loadData(){this.http.get("assets/updated.csv",{responseType:"text"}).subscribe(n=>{let i=Dt(n);this.r_data=i})}sendData(){this.dataService.sendData("a").subscribe(n=>{console.log("Response from server:",n),this.eigenvalues=n.variance,this.pc=n.X_pca,this.s_el=n.elbow_point-1,this.loadings=n.loadings,this.get_table(this.di),this.drawScreePlot()},n=>{console.error("Error:",n)}),this.dataService.getCluster().subscribe(n=>{this.clusteredData=n.clustered_label[this.kc],this.clustered_label=n.clustered_label,this.wcss=n.wcss,this.columns=n.columns,this.kc=Number(n.elbow_point)-1,this.k_el=this.kc,console.log(n),this.plotClusters(0,1),this.plotElbowMethod()})}get_table(n){this.dataService.send_di(n+1).subscribe(i=>{this.top_attr=i.attributes,this.attr_values=i.attr_values,console.log("get_table: "+i)})}drawScreePlot(){I("#title").remove(),I("#mod").append("div").attr("id","title").style("border","1px solid black").append("h5").text("Scree Plot").style("text-align","center"),console.log("hello");var n={top:40,right:100,bottom:60,left:80},i=700-n.left-n.right,o=500-n.top-n.bottom,s=I("#title").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),a=pt().domain(this.eigenvalues.map((y,C)=>"pc"+(C+1))).range([0,i]).padding(.4);let c=0;var u=q().domain([0,1]).nice().range([o,0]);s.selectAll("*").remove(),s.append("g").call(J(u)),s.append("g").attr("transform","translate(0,"+o+")").call(lt(a)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),s.append("text").attr("transform","translate("+i/2+" ,"+(o+n.top)+")").style("text-anchor","middle").style("font-size","small").text("Principal Components"),s.append("text").attr("transform","translate(-40 ,"+o/2+")rotate(-90)").style("text-anchor","middle").style("font-size","small").text("Explained Variance");let l=0,d=this.eigenvalues,h=this,f,p,g,m=null;s.append("g").selectAll("rect").data(this.eigenvalues).enter().append("rect").attr("x",(y,C)=>a("pc"+(C+1))).attr("y",y=>u(y)).attr("width",a.bandwidth()).attr("height",(y,C)=>o-u(y)).style("fill",function(y,C){return C==h.di?(m=y,f=I(this),"lightsalmon"):"lightgreen"}).on("mouseover",function(y){var C=+I(this).attr("x"),_=+I(this).attr("y");I(this).style("fill","#6495ED"),s.append("text").attr("class","bar-value").attr("x",C).attr("y",_-10).text(y.target.__data__).style("text-anchor","middle")}).on("mouseout",function(y,C){C==m?I(this).style("fill","lightsalmon"):I(this).style("fill","lightgreen"),s.selectAll(".bar-value").remove()}).on("click",function(y,C){f?.style("fill","lightgreen"),m=C,f=I(this).style("fill","lightsalmon"),h.di=h.eigenvalues.indexOf(C),h.get_table(h.di)});let v=qt().x((y,C)=>Number(a("pc"+(C+1)))+a.bandwidth()/2).y(y=>u(l+=y));s.append("path").datum(this.eigenvalues).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",v),l=0,s.selectAll("myCircles").data(this.eigenvalues).enter().append("circle").attr("fill","black").attr("stroke","none").attr("cx",(y,C)=>Number(a("pc"+(C+1)))+a.bandwidth()/2).attr("cy",y=>u(l+=y)).attr("r",(y,C)=>this.s_el==C?7:4).on("mouseover",function(y){}).on("mouseout",function(){}).on("click",function(y,C){p!=null&&p.style("fill")=="red"&&g!=null&&g.style("fill")=="red"&&(p.style("fill","black"),g.style("fill","black"),console.log(C)),p==null||p.style("fill")=="black"?(h.p1=h.eigenvalues.indexOf(C),p=I(this)):(g==null||g.style("fill")=="black")&&(h.p2=h.eigenvalues.indexOf(C),g=I(this),h.plotClusters(h.p1,h.p2)),I(this).style("fill","red")})}cal_pc(){this.pc1=[],this.pc2=[];for(let n of this.pc)this.pc1.push(n[this.p1]),this.pc2.push(n[this.p2])}plotClusters(n,i){I("#plotcluster").remove(),I("#d2").append("div").attr("id","plotcluster").style("border","1px solid black").append("h5").text("Bi Plot").style("text-align","center").append("div"),this.cal_pc();var o={top:40,right:100,bottom:60,left:80},s=700-o.left-o.right,a=500-o.top-o.bottom,c=I("#plotcluster").append("svg").attr("width",s+o.left+o.right).attr("height",a+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")"),u=q().domain([-1,1]).nice().range([0,s]);c.append("g").attr("transform","translate(0,"+a/2+")").call(lt(u));var l=q().domain([-1,1]).nice().range([a,0]);c.append("g").attr("transform","translate("+s/2+",0)").call(J(l)),c.append("text").attr("transform","translate("+s/2+" ,"+(a+o.top)+")").style("text-anchor","middle").style("font-size","small").text("PC "+(n+1)),c.append("text").attr("transform","translate(-40 ,"+a/2+")rotate(-90)").style("text-anchor","middle").style("font-size","small").text("PC "+(i+1));let d=this.clusteredData,h=["skyblue","lightsalmon","red","green","lightgreen","orange","cornflowerblue","lightcoral","limegreen","mediumseagreen"];c.selectAll("circle").data(this.pc).enter().append("circle").attr("cx",(f,p)=>u(this.pc1[p])).attr("cy",(f,p)=>l(this.pc2[p])).attr("r",3).style("fill",(f,p)=>{let g=d[p];return h[g]}),c.selectAll(".loading").data(this.loadings).enter().append("line").attr("x1",u(0)).attr("y1",l(0)).attr("x2",f=>u(f[n])).attr("y2",f=>l(f[i])).style("stroke","steelblue").style("stroke-width","1.5px"),c.selectAll(".loading").data(this.loadings).enter().append("text").attr("x",f=>u(f[n])).attr("y",f=>l(f[i])).text((f,p)=>this.columns[p]).style("font-size","12px").style("fill","black"),console.log("cluster created")}plotElbowMethod(){I("#elbow").remove(),I("#d1").append("div").attr("id","elbow").style("border","1px solid black").append("h5").text("k-means MSE plot").style("text-align","center");var n={top:40,right:100,bottom:60,left:80},i=700-n.left-n.right,o=523-n.top-n.bottom,s=I("#elbow").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a=q().domain([0,this.wcss.length]).nice().range([0,i]),c=q().domain([ot(this.wcss),nt(this.wcss)]).nice().range([o,0]);s.append("g").attr("transform",`translate(0,${o})`).call(lt(a).ticks(this.wcss.length)),s.append("g").call(J(c)),s.append("text").attr("transform","translate("+i/2+" ,"+(o+n.top)+")").style("text-anchor","middle").style("font-size","small").text("No Of Clusters (K)"),s.append("text").attr("transform","translate(-55 ,"+o/2+")rotate(-90)").style("text-anchor","middle").style("font-size","small").text("MSE");let u=this,l,d=null;s.append("g").selectAll("rect").data(this.wcss).enter().append("rect").attr("x",(p,g)=>a(g+1)-10).attr("y",p=>c(p)).attr("width",20).attr("height",(p,g)=>o-c(p)).style("fill",function(p,g){return g==u.kc?(d=p,l=I(this),"lightsalmon"):"lightgreen"}).on("mouseover",function(p){var g=+I(this).attr("x"),m=+I(this).attr("y");I(this).style("fill","#6495ED"),s.append("text").attr("class","bar-value").attr("x",g).attr("y",m-10).text(p.target.__data__).style("text-anchor","middle")}).on("mouseout",function(p,g){s.selectAll(".bar-value").remove(),d===g?I(this).style("fill","lightsalmon"):I(this).style("fill","lightgreen")}).on("click",function(p,g){l?.style("fill","lightgreen"),d=g,l=I(this),I(this).style("fill","lightsalmon"),console.log(g),u.clusteredData=u.clustered_label[u.wcss.indexOf(g)],u.kc=u.wcss.indexOf(g),u.plotClusters(u.p1,u.p2)});let h=qt().x((p,g)=>a(g+1)).y(p=>c(p)).curve(ba);s.append("path").datum(this.wcss).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",h);let f=this.wcss;s.selectAll("myCircles").data(this.wcss).enter().append("circle").attr("fill","black").attr("stroke","none").attr("cx",(p,g)=>a(g+1)).attr("cy",p=>c(p)).attr("r",(p,g)=>this.k_el==g?5:2)}plotMds(){I("#plotmds").remove(),I("#d3").append("div").attr("id","plotmds").style("border","1px solid black").append("h5").text("MDS").style("text-align","center").append("div");var n={top:40,right:100,bottom:60,left:80},i=1500-n.left-n.right,o=500-n.top-n.bottom,s=I("#plotmds").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a=Object.keys(this.r_data[0]).filter(function(f){return f!=="Species"});console.log("dimensions"+a);let c={},u=this.r_data;for(let f in a){let p=a[f];c[p]=q().domain($t(this.r_data,function(g){return+g[p]})).range([o,0])}let l=Te().range([0,i]).padding(1).domain(a);function d(f){return qt()(a.map(function(p){return[l(p),c[p](f[p])]}))}let h=Ge().on("drag",function(f){let g=Ee(this)[1];c[f].range([g,g-o]),s.selectAll("path").attr("d",function(m){return d(m)}),I(this).attr("transform","translate(0,"+g+")")});s.selectAll("myPath").data(u).enter().append("path").attr("d",d).style("fill","none").style("stroke","#69b3a2").style("opacity",.5),s.selectAll(".myAxis").data(a).enter().append("g").attr("class","myAxis").attr("transform",function(f){return"translate("+l(f)+")"}).each(function(f){I(this).call(J(c[f])).call(h,f)}).append("text").style("text-anchor","middle").attr("y",-9).text(function(f){return f}).style("fill","black")}plotMds1(){I("#plotmds").remove(),I("#d3").append("div").attr("id","plotmds").style("border","1px solid black").append("h5").text("MDS").style("text-align","center").append("div");var n={top:40,right:100,bottom:60,left:80},i=1500-n.left-n.right,o=500-n.top-n.bottom,s=I("#plotmds").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a=Object.keys(this.r_data[0]).filter(function(h){return h!=="Species"});console.log("dimensions"+a);let c={},u=this.r_data;for(let h in a){let f=a[h];c[f]=q().domain($t(this.r_data,function(p){return+p[f]})).range([o,0])}let l=Te().range([0,i]).padding(1).domain(a);function d(h){return qt()(a.map(function(f){return[l(f),c[f](h[f])]}))}s.selectAll("myPath").data(u).enter().append("path").attr("d",d).style("fill","none").style("stroke","#69b3a2").style("opacity",.5),s.selectAll("myAxis").data(a).enter().append("g").attr("transform",function(h){return"translate("+l(h)+")"}).each(function(h){I(this).call(J(c[h]))}).append("text").style("text-anchor","middle").attr("y",-9).text(function(h){return h}).style("fill","black")}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt),P(le),P(_t))},e.\u0275cmp=mt({type:e,selectors:[["app-screeplot"]],standalone:!0,features:[yt([_t]),gt],decls:3,vars:2,consts:[["style","text-align: center; margin-top: 20px;",4,"ngIf"],["style","margin-left: 30px; margin-top: 10px;",4,"ngIf"],["id","d1",2,"display","table","margin","0 auto"],[2,"text-align","center","margin-top","20px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[2,"margin-left","30px","margin-top","10px"],[2,"display","flex","gap","10px"],["id","mod"],["id","d2"],[2,"display","flex","gap","10px","margin-top","10px"],["id","d1"],[3,"kc","di"],["id","d3"],[2,"text-align","-webkit-center"],[2,"border-collapse","collapse","margin-top","10px","margin-right","55px","width","30%"],[2,"border","1px solid black","padding","10px"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(i,o){i&1&&(dt(0,u0,4,0,"div",0)(1,f0,21,3,"div",1),j(2,"div",2)),i&2&&($("ngIf",o.loading),B(),$("ngIf",!o.loading))},dependencies:[Mh,Tt,Dn,te,Sn]});let t=e;return t})();function p0(t,e){t&1&&j(0,"div",6)}function m0(t,e){t&1&&j(0,"div",7)}function g0(t,e){t&1&&j(0,"div",8)}var Ah=(()=>{let e=class e{constructor(n,i){this.elementRef=n,this.http=i,this.displayMenu=!1,this.bar_options=["Rooms","Distance","Postcode","Propertycount","Landsize","YearBuilt"],this.r_data={},this.fcount={},this.finalData=[],this.sum=0,this.max_value=0,this.reload=!0}ngOnChanges(n){n.barOption&&!n.barOption.firstChange&&this.refresh()}ngOnInit(){typeof document<"u"&&this.loadData()}displayOptions(){this.displayMenu=!this.displayMenu}selectOption(n){this.barOption=n,this.refresh()}refresh(){I("#title").remove(),I("#mod").append("div").attr("id","title").style("border","1px solid black").append("h5").style("display","grid").style("justify-items","center").text("Frequency Distribution of "+this.barOption),this.createChart(this.r_data)}loadData(){this.http.get("assets/finalHousing.csv",{responseType:"text"}).subscribe(n=>{let i=Dt(n);this.r_data=i,console.log("logged"),this.refresh()})}frequency(n,i){for(let o in i)this.fcount.hasOwnProperty(i[o][n])?this.fcount[i[o][n]]=this.fcount[i[o][n]]+1:this.fcount[i[o][n]]=1;for(let o in this.fcount)this.finalData.push({region:o,value:this.fcount[o]}),this.sum+=this.fcount[o],this.max_value=Math.max(this.max_value,this.fcount[o])}createChart(n){var i={top:40,right:30,bottom:120,left:120},o=750-i.left-i.right,s=650-i.top-i.bottom;let a=0,c=9999999,u=0;for(let g in n)n[g][this.barOption]!=null&&(a=Math.max(a,n[g][this.barOption]),c=Math.min(c,n[g][this.barOption]));console.log(a);var l=I("#title").append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")"),d=q().domain([c,a]).range([0,o]);l.append("g").attr("transform","translate(0,"+s+")").call(lt(d)),l.append("text").attr("transform","translate("+(o-50)+" ,"+(s+i.top+30)+")").style("text-anchor","middle").text(this.barOption);var h=di().value(g=>g[this.barOption]).domain([c,a]).thresholds(d.ticks(7)),f=h(n),p=q().range([s,0]);p.domain([0,nt(f,function(g){return g.length})]),l.append("g").call(J(p)),l.append("text").attr("transform","translate(-60 ,50)rotate(-90)").style("text-anchor","middle").text("Frequency ->"),console.log(f),console.log("histogram plot"),l.selectAll("rect").data(f).enter().append("rect").attr("x",1).attr("transform",function(g){return"translate("+d(g.x0)+","+p(g.length)+")"}).attr("width",function(g){return d(g.x1)-d(g.x0)-1}).attr("height",function(g){return s-p(g.length)}).style("fill","#69b3a2").on("mouseover",function(g){I(this).style("fill","#6495ED"),console.log(g),l.append("text").attr("class","bar-value").attr("x",d(g.target.__data__.x1)-25).attr("y",p(g.target.__data__.length)-5).text(g.target.__data__.length).style("text-anchor","middle").style("fill","blue"),l.append("text").attr("class","bar-value").attr("x",d(g.target.__data__.x1)-25).attr("y",p(g.target.__data__.length)-20).text("range: "+g.target.__data__.x0+" - "+g.target.__data__.x1).style("text-anchor","middle").style("fill","blue")}).on("mouseout",function(){I(this).style("fill","#69b3a2"),l.selectAll(".bar-value").remove()})}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt))},e.\u0275cmp=mt({type:e,selectors:[["app-histogram"]],inputs:{barOption:"barOption"},standalone:!0,features:[ne,gt],decls:7,vars:4,consts:[[1,"form-check"],["type","checkbox","id","flexCheckIndeterminate",1,"form-check-input",2,"border-radius","27px","width","38px","background-color","#0D6EFD",3,"value"],["for","flexCheckIndeterminate",1,"form-check-label"],["class","left",4,"ngIf"],["class","right",4,"ngIf"],["id","mod","style","display: table; margin: 0 auto;",4,"ngIf"],[1,"left"],[1,"right"],["id","mod",2,"display","table","margin","0 auto"]],template:function(i,o){i&1&&(V(0,"div",0),j(1,"input",1),V(2,"label",2),Z(3," Tilt "),R(),dt(4,p0,1,0,"div",3)(5,m0,1,0,"div",4),R(),dt(6,g0,1,0,"div",5)),i&2&&(B(),$("value","bottom"),B(3),$("ngIf",!0),B(),$("ngIf",!1),B(),$("ngIf",o.reload==!0))},dependencies:[ue,ei,de,Tt,te],styles:[".high[_ngcontent-%COMP%]{padding-left:7px;text-decoration:auto;width:100%;display:block}.high[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#353131;cursor:pointer}.left[_ngcontent-%COMP%]{border:solid 1px;background:#fff;z-index:2;position:absolute;margin-top:-19.5px;border-radius:17px;width:24px;height:15px;margin-left:-24px}.right[_ngcontent-%COMP%]{border:solid 1px;background:#fff;z-index:2;position:absolute;margin-top:-19.5px;border-radius:17px;width:24px;height:15px;margin-left:-11px}"]});let t=e;return t})();function _0(t,e){if(t&1){let r=Le();V(0,"div",7)(1,"button",8),Q("click",function(){Qt(r);let i=ft();return Jt(i.pcpreset())}),Z(2," PCP reset "),j(3,"span",9),R(),V(4,"button",10),Q("click",function(){Qt(r);let i=ft();return Jt(i.mdsreset())}),Z(5," MDS reset "),j(6,"span",9),R()()}}var kh=(()=>{let e=class e{constructor(n,i,o,s){this.elementRef=n,this.http=i,this.renderer=o,this.dataService=s,this.cat_options=["Suburb","CouncilArea","SellerG","Regionname","Postcode","Type","Method","Address","Date"],this.num_options=["Rooms","Distance","Propertycount","Landsize","YearBuilt","Bathroom","Price","Car"],this.isloading=!1,this.attrline=[],this.dimensionfix=[],this.dimensions={},this.mds_data=[],this.mds_data1=[],this.kc=3,this.sel_attributed=[],this.isdrag=[]}ngOnInit(){typeof document<"u"&&(this.getmds(),this.loadData())}getmds(){this.dataService.getCluster().subscribe(n=>{this.clusteredData=n.clustered_label[this.kc],this.clustered_label=n.clustered_label,this.wcss=n.wcss,this.columns=n.columns,this.kc=Number(n.elbow_point)-1,this.k_el=this.kc,console.log(n),this.plotElbowMethod()}),this.dataService.get_mds().subscribe(n=>{console.log("Response from server:",n),this.mds_data=n.mds_data,this.mds_data1=n.mds_data1},n=>{console.error("Error:",n)})}pcpreset(){this.dimensions=[...this.dimensionfix],this.plotpcp()}mdsreset(){this.plotmds1(),this.sel_attributed=[],this.attrline=[],this.pcpreset()}loadData(){this.http.get("assets/finalHousing.csv",{responseType:"text"}).subscribe(n=>{let i=Dt(n);this.r_data=i})}plotmds(){I("#plotmds").remove(),I("#d1").append("div").attr("id","plotmds").style("border","1px solid black").append("h5").text("MDS Plot").style("text-align","center").append("div");var n={top:40,right:100,bottom:60,left:80},i=700-n.left-n.right,o=500-n.top-n.bottom,s=I("#plotmds").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a=ot(this.mds_data,f=>Number(f[0])),c=nt(this.mds_data,f=>Number(f[0]));var u=q().domain([a,c]).nice().range([0,i]);s.append("g").attr("transform","translate(0,"+o+")").call(lt(u)),a=ot(this.mds_data,f=>Number(f[1])),c=nt(this.mds_data,f=>Number(f[1]));var l=q().domain([a,c]).nice().range([o,0]);s.append("g").call(J(l));let d=["skyblue","lightsalmon","lightgreen","green","orange","red","cornflowerblue","lightcoral","limegreen","mediumseagreen"],h=this.clusteredData;s.selectAll("circle").data(this.mds_data).enter().append("circle").attr("cx",(f,p)=>u(f[0])).attr("cy",(f,p)=>l(f[1])).attr("r",3).style("fill",(f,p)=>{let g=h[p];return d[g]}),console.log("cluster created")}plotmds1(){I("#plotcluster").remove(),I("#d2").append("div").attr("id","plotcluster").style("border","1px solid black").append("h5").text("MDS Attribute Plot").style("text-align","center").append("div");var n={top:40,right:100,bottom:60,left:80},i=700-n.left-n.right,o=500-n.top-n.bottom,s=I("#plotcluster").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");this.mds_svg=s;let a=ot(this.mds_data1,m=>Number(m[0])),c=nt(this.mds_data1,m=>Number(m[0]));var u=q().domain([a,c]).nice().range([0,i]);s.append("g").attr("transform","translate(0,"+o+")").call(lt(u)),a=ot(this.mds_data1,m=>Number(m[1])),c=nt(this.mds_data1,m=>Number(m[1]));var l=q().domain([a,c]).nice().range([o,0]);s.append("g").call(J(l));let d=["skyblue","lightsalmon","lightgreen","green","orange","red","cornflowerblue","lightcoral","limegreen","mediumseagreen"],h=this.clusteredData,f=this,p=qt().x(m=>(console.log(Number(m[0])),u(m[0]))).y(m=>l(m[1]));s.selectAll("circle").data(this.mds_data1).enter().append("circle").attr("cx",(m,v)=>u(m[0])).attr("cy",(m,v)=>l(m[1])).attr("r",5).text((m,v)=>this.columns[v]).style("fill",(m,v)=>"lightgreen").on("click",function(m,v){if(I(this).style("fill")=="red"){I(this).style("fill","lightgreen");let y=f.sel_attributed.indexOf(m.srcElement.innerHTML);f.sel_attributed.splice(y,1),f.attrline.splice(y,1)}else I(this).style("fill","red"),f.attrline.push(v),f.sel_attributed.push(m.srcElement.innerHTML);ze("path.line").remove(),ze("text.line").remove(),g();for(let y in f.sel_attributed){console.log(y);let C=f.dimensions.indexOf(f.sel_attributed[y]);f.dimensions.splice(C,1),f.dimensions.splice(y,0,f.sel_attributed[y])}console.log(f.dimensions.length),f.plotpcp()});function g(){s.append("path").datum(f.attrline).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",p).attr("class","line");for(let m=0;m<f.attrline.length-1;m++)s.append("text").attr("x",u((f.attrline[m][0]+f.attrline[m+1][0])/2)).attr("y",l((f.attrline[m][1]+f.attrline[m+1][1])/2)).attr("dx",5).attr("dy",-5).text(m+1).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill","black").attr("class","line").style("font-size",10)}s.selectAll("text1").data(this.mds_data1).enter().append("text").attr("x",(m,v)=>u(m[0])).attr("y",(m,v)=>l(m[1])).text((m,v)=>this.columns[v]).style("font-size","10px").attr("dx",10).attr("dy",-5),console.log("cluster created")}retrieve_dimensions(){console.log(this.r_data),this.dimensions=Object.keys(this.r_data[0]).filter(function(i){return i!=="Species"});let n=this.dimensions.indexOf("Address");this.dimensions.splice(n,1),this.dimensionfix=[...this.dimensions],console.log("retrieve"),this.plotpcp()}plotpcp(){I("#plotpcp").remove(),I("#d3").append("div").attr("id","plotpcp").style("border","1px solid black").append("h5").text("PCP").style("text-align","center").append("div");var n={top:40,right:100,bottom:60,left:80},i=1415-n.left-n.right,o=600-n.top-n.bottom,s=I("#plotpcp").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a={},c={},u={},l={},d=this.r_data;this.isdrag=[];for(let _ in this.dimensions){let b=this.dimensions[_];this.cat_options.includes(b)?l[b]=pt().domain(this.r_data.map((A,k)=>A[b])).range([o,0]):l[b]=q().domain($t(this.r_data,function(A){return+A[b]})).range([o,0]).nice()}let h=Te().range([-30,i+100]).padding(1).domain(this.dimensions);for(let _ of this.dimensions)a[_]=h(_),c[_]=h(_),this.isdrag[_]=!1;let f=this;function p(_){return qt()(f.dimensions.map(function(b){return l[b].bandwidth?[Number(a[b]),l[b](_[b])+l[b].bandwidth()/2]:[Number(a[b]),l[b](_[b])]}))}let g=this.clusteredData,m=["skyblue","lightsalmon","lightgreen","green","orange","red","cornflowerblue","lightcoral","limegreen","mediumseagreen"];s.selectAll("myPath").data(d).enter().append("path").attr("d",p).style("fill","none").style("stroke",(_,b)=>{let A=g[b];return m[A]}).style("opacity",.5);let v=Ge().on("drag",function(_,b){if(f.isdrag[b]==!1)return;let A=_.x,k=f.dimensions.indexOf(b),E=f.dimensions[k],x=f.dimensions[k-1],M=f.dimensions[k+1];if(console.log(d[1].Price),A<c[x]){a[x]=c[E];let w=c[x],O=c[E];c[x]=O,c[E]=w;let D=f.dimensions[k-1],T=f.dimensions[k];f.dimensions[k]=D,f.dimensions[k-1]=T,console.log(f.dimensions),u[x].attr("transform","translate("+a[x]+",0)")}if(A>c[M]){a[M]=c[E];let w=c[M],O=c[E];c[M]=O,c[E]=w;let D=f.dimensions[k+1],T=f.dimensions[k];f.dimensions[k]=D,f.dimensions[k+1]=T,console.log(f.dimensions),u[M].attr("transform","translate("+a[M]+",0)")}console.log(b),I(this).attr("transform","translate("+A+",0)"),a[b]=_.x,s.selectAll("path").attr("d",function(w){return p(w)})}).on("end",function(_,b){f.isdrag[b]!=!1&&(I(this).attr("transform","translate("+c[b]+",0)"),a[b]=c[b],s.selectAll("path").attr("d",function(A){return p(A)}))});function y(_,b){f.isdrag[b]=!1;let A=_.selection;if(!A)return;let[k,E]=A,x=function(w){let O=l[b].bandwidth?l[b](w[b])+l[b].bandwidth()/2:l[b](w[b]);return O>=k&&O<=E},M=d.filter(x);s.selectAll("path:not(.domain)").style("stroke",function(w,O){return M.includes(w)?m[g[O]]:"none"}).style("opacity",function(w,O){return M.includes(w)?.5:0})}s.selectAll("myAxis").data(this.dimensions).enter().append("g").attr("transform",function(_,b){return"translate("+Number(h(_))+")"}).each(function(_){I(this).call(J(l[_])).call(C(_)).call(v),u[_]=I(this)}).append("text").style("text-anchor","middle").attr("y",-9).text(function(_){return _}).style("fill","black").on("mouseover",(_,b)=>{f.isdrag[b]=!0,console.log(this.isdrag)}).on("mouseout",(_,b)=>{});function C(_){return Gn().extent([[0,0],[20,o]]).on("brush",function(b){y(b,_)})}}plotElbowMethod(){I("#elbow").remove(),I("#d4").append("div").attr("id","elbow").style("border","1px solid black").append("h5").text("k-means MSE plot").style("text-align","center");var n={top:40,right:100,bottom:60,left:80},i=700-n.left-n.right,o=523-n.top-n.bottom,s=I("#elbow").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a=q().domain([0,this.wcss.length]).nice().range([0,i]),c=ot(this.wcss),u=nt(this.wcss),l=q().domain([c,u]).nice().range([o,0]);s.append("g").attr("transform",`translate(0,${o})`).call(lt(a).ticks(this.wcss.length)),s.append("g").call(J(l)),s.append("text").attr("transform","translate("+i/2+" ,"+(o+n.top)+")").style("text-anchor","middle").style("font-size","small").text("No Of Clusters (K)"),s.append("text").attr("transform","translate(-55 ,"+o/2+")rotate(-90)").style("text-anchor","middle").style("font-size","small").text("MSE");let d=this,h,f=null;s.append("g").selectAll("rect").data(this.wcss).enter().append("rect").attr("x",(m,v)=>a(v+1)-10).attr("y",m=>l(m)).attr("width",20).attr("height",(m,v)=>o-l(m)).style("fill",function(m,v){return v==d.kc?(f=m,h=I(this),"lightsalmon"):"lightgreen"}).on("mouseover",function(m){var v=+I(this).attr("x"),y=+I(this).attr("y");I(this).style("fill","#6495ED"),s.append("text").attr("class","bar-value").attr("x",v).attr("y",y-10).text(m.target.__data__).style("text-anchor","middle")}).on("mouseout",function(m,v){s.selectAll(".bar-value").remove(),f===v?I(this).style("fill","lightsalmon"):I(this).style("fill","lightgreen")}).on("click",function(m,v){h?.style("fill","lightgreen"),f=v,h=I(this),I(this).style("fill","lightsalmon"),console.log(v),d.clusteredData=d.clustered_label[d.wcss.indexOf(v)],d.kc=d.wcss.indexOf(v),d.plotmds(),d.plotpcp()});let p=qt().x((m,v)=>a(v+1)).y(m=>l(m));s.append("path").datum(this.wcss).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",p);let g=this.wcss;s.selectAll("myCircles").data(this.wcss).enter().append("circle").attr("fill","black").attr("stroke","none").attr("cx",(m,v)=>a(v+1)).attr("cy",m=>l(m)).attr("r",(m,v)=>this.k_el==v?5:2),this.plotmds(),this.plotmds1(),this.retrieve_dimensions(),this.isloading=!0}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt),P(le),P(_t))},e.\u0275cmp=mt({type:e,selectors:[["app-mds-plot"]],standalone:!0,features:[yt([_t]),gt],decls:9,vars:1,consts:[["style","margin-left: 30px;",4,"ngIf"],[2,"margin-left","30px","margin-top","10px"],[2,"display","flex","gap","10px","margin-top","10px"],["id","d1"],["id","d2",2,"display","1px solid black"],["id","d3"],["id","d4"],[2,"margin-left","30px"],["type","button","data-toggle","dropdown",1,"btn","btn-primary",2,"width","50 px",3,"click"],[1,"caret"],["type","button","data-toggle","dropdown",1,"btn","btn-primary",2,"width","50 px","margin-left","20px",3,"click"]],template:function(i,o){i&1&&(dt(0,_0,7,0,"div",0),V(1,"div",1)(2,"div",2),j(3,"div",3)(4,"div",4),R(),V(5,"div",2),j(6,"div",5),R(),V(7,"div",2),j(8,"div",6),R()()),i&2&&$("ngIf",o.isloading)},dependencies:[Tt,te]});let t=e;return t})();var En,Ih=(()=>{let e=class e{constructor(n,i,o,s){this.elementRef=n,this.http=i,this.renderer=o,this.dataService=s,this.r_data={},this.geo_data={},this.geo_data2={},this.mapdata={},this.isdrag=[],this.continents_list=["Asia","Europe","South America","North America","Africa","Oceania"],this.dimensions=["Continent","Land area","Population","Population growth","GDP","GDP per capita","Income Group","Industry","Life expectancy","Birth rate","Death rate","PM2.5"],this.cat_options=["Continent","Industry","Income Group"],this.asia_map={},this.geo_id={},this.sp_options=["Birth rate","GDP per capita"],this.displayMenu=!1,this.selectedColumn="Continent",this.filtered_data=[],this.radar_data=[],this.radial_data=[],this.oceanGeoJson={},this.centers={World:{coords:[30,31],zoom:1},Europe:{coords:[50.85045,4.34878],zoom:3.5},"North America":{coords:[54.526,-105.2551],zoom:2},"South America":{coords:[-8.7832,-55.4915],zoom:2},Asia:{coords:[52.483333,96.085833],zoom:2},Africa:{coords:[-8.7832,34.5085],zoom:2},Australia:{coords:[-23.116667,132.133333],zoom:3.5}}}ngOnInit(){}ngAfterViewInit(){typeof document<"u"&&this.loadData()}initMap(){typeof window<"u"&&import("./chunk-AJ323HCL.mjs").then(n=>{En=n,this.leaf=En,En&&(this.map=En.map("map",{attributionControl:!1}).setView([30,31],1),En.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:1}).addTo(this.map),this.updateMap(this.geo_data,this.mapdata,"Population"))})}loadData(){this.http.get("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").subscribe(n=>{this.geo_data=n,this.http.get("assets/oceans.json",{responseType:"text"}).subscribe(i=>{this.oceanGeoJson=i}),this.http.get("assets/Final_Dataset.csv",{responseType:"text"}).subscribe(i=>{let o=Dt(i);this.r_data=o;for(let s of this.r_data)s.Industry=s.Industry.split(" ")[0],s["Income Group"]=s["Income Group"].split(" ")[0];this.filtered_data=this.r_data,this.scatter_data=this.r_data,this.pcp_data=this.r_data,this.radial_data=this.r_data;for(let s of this.r_data)this.mapdata[s["Country Code"]]=s.Population,this.asia_map[s["Country Code"]]=s.Continent,this.geo_id[s["Country Code"]]=s.Country;this.drawMap(this.geo_data,"Population"),this.drawScatterplot(),this.drawRadialChart("Continent"),this.drawRadar(),this.plotpcp()}),this.http.get("assets/continents.json",{responseType:"text"}).subscribe(i=>{this.geo_data2=i})})}drawScatterplot(){I("#scatterplot").remove(),I("#d1").append("div").attr("id","scatterplot").append("h6").text("Scatterplot").style("text-align","center").style("border-radius",10).append("div");let n=this.filtered_data,i=this.filtered_data,o=[],s=[],a=this,c=this.sp_options[0],u=this.sp_options[1],l,d;i.length<=1&&(i=this.r_data);for(let E of i)this.cat_options.includes(c)?o.push(E[c]):o.push(Number(E[c])),this.cat_options.includes(u)?s.push(E[u]):s.push(Number(E[u]));i=this.filtered_data;var h={top:20,right:30,bottom:80,left:100},f=400-h.left-h.right,p=350-h.top-h.bottom,g=I("#scatterplot").append("svg").attr("width",f+h.left+h.right).attr("height",p+h.top+h.bottom).append("g").attr("transform","translate("+h.left+","+h.top+")"),m,v;let y=Ue(".2s");this.cat_options.includes(c)?(m=pt().domain(o.map(E=>E)).range([0,f]).padding(1),g.append("g").attr("transform","translate(0,"+p+")").call(lt(m)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end")):(l=Number(ot(o)),m=q().domain([Number(ot(o)),Number(nt(o))]).nice().range([0,f]),console.log(y(15e5)),g.append("g").attr("transform","translate(0,"+p+")").call(lt(m).tickFormat(y))),this.cat_options.includes(u)?(v=pt().domain(s.map(E=>E)).range([p,0]).padding(1),g.append("g").call(J(v))):(d=Number(ot(s)),v=q().domain([Number(ot(s)),Number(nt(s))]).nice().range([p,0]),g.append("g").call(J(v).tickFormat(y))),g.append("text").attr("transform","translate("+(f/2-10)+" ,"+(p+h.bottom-15)+")").style("text-anchor","middle").style("font-size","small").style("fill","black").text(c),g.append("text").attr("transform","translate(-70 ,"+p/2+")rotate(-90)").style("text-anchor","middle").style("font-size","small").style("fill","black").text(u);let C=["skyblue","lightsalmon","red","green","lightgreen","orange","cornflowerblue","lightcoral","limegreen","mediumseagreen"];var _=g.selectAll("circle").data(this.filtered_data).enter().append("circle").attr("cx",(E,x)=>m(E[c])).attr("cy",(E,x)=>v(E[u])).attr("r",3).style("opacity",.5).style("fill",E=>"green").on("mouseover",E=>{console.log("mouse")});let b=E=>{this.scatter_brushed=!0;let x=E.selection;if(!x)return;let M=[];_.style("opacity",function(w){return k(x,m(w[c]),v(w[u]))?(M.push(w),1):.5}),a.filtered_data=M,A()};g.call(Es().extent([[0,0],[f,p]]).on("start brush",b).on("end",()=>{console.log("edn tens")}));let A=()=>{this.filtered_data.length==0&&(this.filtered_data=this.scatter_data),a.selectedColumn=="Continent"?this.drawMap(this.geo_data,"Population"):this.drawMap(this.geo_data,this.selectedColumn),a.drawRadialChart("abc"),this.pcp_brushed||a.plotpcp()};function k(E,x,M){var w=E[0][0],O=E[1][0],D=E[0][1],T=E[1][1];return w<=x&&x<=O&&D<=M&&M<=T}}drawBarchart(){I("#title").remove(),I("#d2").append("div").attr("id","title").style("border","1px solid black").append("h6").text("BarChart").style("text-align","center");var n={top:20,right:30,bottom:60,left:80},i=400-n.left-n.right,o=350-n.top-n.bottom;let s="Continent",a=this.r_data,c={},u=[];for(let p of a)c.hasOwnProperty(p[s])?c[p[s]]++:(c[p[s]]=1,u.push(p[s]));console.log(c);var l=I("#title").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),d=pt().domain(a.map((p,g)=>p[s])).range([0,i]).padding(.4);let h=0;var f=q().domain([0,100]).nice().range([o,0]);l.append("g").call(J(f)),l.append("g").attr("transform","translate(0,"+o+")").call(lt(d)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),l.append("text").attr("transform","translate("+i/2+" ,"+(o+n.bottom-n.top)+")").style("text-anchor","middle").style("font-size","small").text(s),l.append("text").attr("transform","translate(-40 ,"+o/2+")rotate(-90)").style("text-anchor","middle").style("font-size","small").text("Total"),l.append("g").selectAll("rect").data(u).enter().append("rect").attr("x",(p,g)=>d(p)).attr("y",p=>f(c[p])).attr("width",d.bandwidth()).attr("height",(p,g)=>o-f(c[p])).style("fill",function(p,g){return"lightgreen"})}drawMap(n,i){I("#map1").remove(),I("#d3").append("div").attr("id","map1").append("h6").text("Choropleth Map").style("text-align","center");var o={top:40,right:30,bottom:60,left:80},s=600-o.left-o.right,a=350-o.top-o.bottom;let c=[],u=this,l={},d=this.filtered_data,h=[];for(let N of d)l[N["Country Code"]]=N[i],d.length<200&&h.push(N["Country Code"]);let f=d.map(N=>+N[i]),p=d.length<=1?0:ot(f),g=d.length<=1?1:nt(f);var m=I("#map1").append("svg").attr("width",s+o.left+o.right).attr("height",a+o.top+o.bottom);let v=document.getElementById("tooltip"),y=Ue(".4s");var C=Co(),_=ua().scale(90).center([-25,40]).translate([s/2,a/2]),b=new Map;let A=["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],k=f.map(N=>Math.log(N)),x=[0,.2,.4,.6,.8,1].map(N=>kr(k,N)),M=Xn().domain(x).range(A),w=p<0?nr(Ao).domain([p,g]):Zn(ko).domain([p,g]),O=function(N,G){console.log(G);let Y=l[N.target.__data__.id]?y(l[N.target.__data__.id]):"No Data Available";v.innerHTML=`<div class="tooltip-content" style="text-align:center;">
                                <a><b>${G.properties.name}</b></a><br>
                                ${i}: ${Y}
                                </div>`,v.style.display="block",ze(".Country").transition().duration(200).style("opacity",.3),I(this).transition().duration(200).style("opacity",1)},D=function(N){v.style.display="none",m.selectAll(".country-label").remove(),ze(".Country").transition().duration(200).style("opacity",1),I(this).transition().duration(200)};m.append("g").selectAll("path").data(n.features).enter().append("path").attr("d",function(N){return Co().projection(_)(N)}).attr("fill",function(N){return N.total=l[N.id]||0,w(N.total)}).style("stroke","black").style("stroke-width",N=>h.includes(N.id)?1:.2).attr("class",function(N){return"Country"}).attr("id",N=>N.properties.name).style("opacity",1).on("mouseover",O).on("mouseout",D).on("mousemove",N=>{v.style.left=N.x+10+"px",v.style.top=N.y+10+"px"}).on("click",function(N,G){console.log(G.properties.name),c.length>=3&&(ze(".Country#"+c[0]).style("stroke","none"),c.shift()),c.push(G.properties.name),u.radar_data.push(u.geo_id[G.id]),u.drawRadar(),console.log(c),I(this).style("stroke","black").style("stroke-width",2)});let T=100,S=15,F=q().domain([0,1]).range(["rgb(255, 243, 232)","rgb(253, 214, 165)","rgb(247, 128, 84)","rgb(226, 73, 50)","rgb(127, 39, 4)"]);m.append("defs").append("linearGradient").attr("id","color-gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").selectAll("stop").data(F.range()).enter().append("stop").attr("offset",(N,G)=>`${G*100/(F.range().length-1)}%`).attr("stop-color",N=>N),m.append("rect").attr("x",10).attr("y",300).attr("width",T).attr("height",S).style("fill","url(#color-gradient)"),m.append("text").attr("transform","translate(20 ,330)").style("text-anchor","middle").style("font-size","small").style("fill","black").text("Low"),m.append("text").attr("transform","translate(100 ,330)").style("text-anchor","middle").style("font-size","small").style("fill","black").text("High")}drawRadar(){I("#radar").remove(),I("#d5").append("div").attr("id","radar").append("h6").text("Radar Chart").style("text-align","center");let n=this.filtered_data;var i={top:70,right:120,bottom:60,left:40},o=505-i.left-i.right,s=330-i.top-i.bottom,a=I("#radar").append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform",`translate(${i.left},${i.top})`);let c=q().domain([0,10]).range([0,140]),u=[2,4,6,8,10];a.selectAll("circle").data(u).join(E=>E.append("circle").attr("cx",o/2).attr("cy",s/2).attr("fill","none").attr("stroke","gray").attr("r",x=>c(x)));function l(E,x){let M=Math.cos(E)*c(x),w=Math.sin(E)*c(x);return{x:o/2+M,y:s/2-w}}let d=["Population","GDP per capita","Birth rate","Life expectancy","Death rate","PM2.5"],h=d.map((E,x)=>{let M=Math.PI/2+2*Math.PI*x/d.length;return{name:E,angle:M,line_coord:l(M,10),label_coord:l(M,10.5)}});a.selectAll("line").data(h).join(E=>E.append("line").attr("x1",o/2).attr("y1",s/2).attr("x2",x=>x.line_coord.x).attr("y2",x=>x.line_coord.y).attr("stroke","black")),a.selectAll(".axislabel").data(h).join(E=>E.append("text").attr("x",x=>x.label_coord.x).attr("y",x=>x.label_coord.y).text(x=>x.name).style("font-size","10px").style("transform-origin",x=>`${x.label_coord.x}px ${x.label_coord.y}px`).style("transform",x=>{let M=x.name.length;return x.angle>2&&x.angle<4?`translate(${-(M/2)*10}px,0px)`:0}).on("mouseover",function(x,M){console.log(M),I(this).style("cursor","pointer")}).on("click",(x,M)=>{console.log(M.name),this.selectedColumn=M.name,this.updateMap(this.geo_data,this.mapdata,M.name),this.drawMap(this.geo_data,M.name)}));let f=qt().x(E=>E.x).y(E=>E.y),p=["darkorange","gray","navy"],g=Se(ir),m=[];if(this.radar_data.length>1){this.radar_data.length>3&&this.radar_data.shift();let E=0;for(let x of n)console.log(x.Country),this.radar_data.includes(x.Country)&&(m[E]=x,E++);console.log(this.radar_data)}else m=[...n],m=m.splice(0,3);let v={};for(let E of d){let x=m.filter(M=>M[E]!==null&&M[E]!=="..").map(M=>+M[E]);v[E]={min:ot(x)||0,max:nt(x)||0}}function y(E,x,M,w,O){return E=Math.min(Math.max(E,x),M),w+(E-x)/(M-x)*(O-w)}function C(E){let x=[];for(var M=0;M<d.length;M++){let w=d[M],O=Math.PI/2+2*Math.PI*M/d.length,D=y(E[w],v[w].min,v[w].max,2,9);x.push(l(O,D))}do{let w=d[0],O=Math.PI/2+2*Math.PI*0/d.length,D=y(E[w],v[w].min,v[w].max,2,9);x.push(l(O,D))}while(!1);return x}let _=300,b=-50,A=320,k=0;for(let E of m)a.append("circle").attr("cx",_).attr("cy",b).attr("r",6).style("fill",g(k)).attr("opacity",.7),a.append("text").attr("x",A).attr("y",b).text(E.Country).style("font-size","15px").attr("alignment-baseline","middle"),b+=20,k++;a.selectAll("path").data(m).join(E=>E.append("path").datum(x=>C(x)).attr("d",f).attr("stroke-width",.4).attr("stroke",(x,M)=>"black").attr("fill",(x,M)=>g(M)).attr("stroke-opacity",1).attr("opacity",.5))}plotpcp1(){I("#plotpcp").remove(),I("#d4").append("div").attr("id","plotpcp").style("border","1px solid black").append("h6").text("PCP").style("text-align","center").append("div");var n={top:40,right:50,bottom:60,left:40},i=900-n.left-n.right,o=330-n.top-n.bottom,s=I("#plotpcp").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a={},c={},u={},l={},d=this.filtered_data;this.isdrag=[];for(let A in this.dimensions){let k=this.dimensions[A];this.cat_options.includes(k)?l[k]=pt().domain(d.map((E,x)=>E[k])).range([o,0]):l[k]=q().domain($t(d,function(E){return+E[k]})).range([o,0]).nice()}let h=Te().range([-30,i+100]).padding(1).domain(this.dimensions);for(let A of this.dimensions)a[A]=h(A),c[A]=h(A),this.isdrag[A]=!1;let f=this;function p(A){return qt()(f.dimensions.map(function(k){return l[k].bandwidth?[Number(a[k]),l[k](A[k])+l[k].bandwidth()/2]:[Number(a[k]),l[k](A[k])]}))}let g=Se(ir),m=["skyblue","lightsalmon","lightgreen","green","orange","red","cornflowerblue","lightcoral","limegreen","mediumseagreen"],v=s.selectAll("myPath").data(d).enter().append("path").attr("d",p).style("fill","none").style("stroke",(A,k)=>g(k)).style("opacity",.5),y=Ge().on("drag",function(A,k){if(f.isdrag[k]==!1)return;let E=A.x,x=f.dimensions.indexOf(k),M=f.dimensions[x],w=f.dimensions[x-1],O=f.dimensions[x+1];if(console.log(d[1].Price),E<c[w]){a[w]=c[M];let D=c[w],T=c[M];c[w]=T,c[M]=D;let S=f.dimensions[x-1],F=f.dimensions[x];f.dimensions[x]=S,f.dimensions[x-1]=F,console.log(f.dimensions),u[w].attr("transform","translate("+a[w]+",0)")}if(E>c[O]){a[O]=c[M];let D=c[O],T=c[M];c[O]=T,c[M]=D;let S=f.dimensions[x+1],F=f.dimensions[x];f.dimensions[x]=S,f.dimensions[x+1]=F,console.log(f.dimensions),u[O].attr("transform","translate("+a[O]+",0)")}console.log(k),I(this).attr("transform","translate("+E+",0)"),a[k]=A.x,s.selectAll("path").attr("d",function(D){return p(D)})}).on("end",function(A,k){f.isdrag[k]!=!1&&(I(this).attr("transform","translate("+c[k]+",0)"),a[k]=c[k],s.selectAll("path").attr("d",function(E){return p(E)}))}),C=(A,k)=>{f.isdrag[k]=!1;let E=A.selection;if(!E)return;let[x,M]=E,w=function(D){let T=l[k].bandwidth?l[k](D[k])+l[k].bandwidth()/2:l[k](D[k]);return T>=x&&T<=M};console.log(this.filtered_data);let O=d.filter(w);this.filtered_data=O,console.log(O),s.selectAll("path:not(.domain)").style("stroke",function(D,T){return O.includes(D)?"lightgreen":"none"}).style("opacity",function(D,T){return O.includes(D)?.5:0}),this.filtered_data.length==0&&(this.filtered_data=this.r_data),this.drawScatterplot(),f.selectedColumn=="Continent"?(f.updateMap(f.geo_data,f.mapdata,"Population"),this.drawMap(this.geo_data,"Population")):(f.updateMap(f.geo_data,f.mapdata,f.selectedColumn),this.drawMap(this.geo_data,f.selectedColumn)),f.drawRadialChart(f.selectedColumn)},_;s.selectAll("myAxis").data(this.dimensions).enter().append("g").attr("transform",function(A,k){return"translate("+Number(h(A))+")"}).each(function(A,k){I(this).call(J(l[A])).call(b(A)).call(y).append("foreignObject").attr("x",-0).attr("y",-35).attr("width",30).attr("height",30).append("xhtml:input").attr("type","checkbox").attr("class","check"+k).on("change",function(){f.sp_options.length==2&&(I(".check"+f.dimensions.indexOf(f.sp_options[0])).property("checked",!1),f.sp_options.shift()),f.sp_options.push(A),f.drawScatterplot()}),f.sp_options.includes(A)&&I(".check"+k).property("checked",!0),u[A]=I(this)}).append("text").style("text-anchor","middle").attr("y",-9).text(function(A){return A}).style("fill","black").on("mouseover",(A,k)=>{f.isdrag[k]=!0,console.log(this.isdrag)}).on("mouseout",(A,k)=>{});function b(A){return Gn().extent([[0,0],[20,o]]).on("brush",function(k){C(k,A)})}}drawRadialChart(n){I("#title").remove(),I("#d2").append("div").attr("id","title").append("h6").text("Radial BarChart").style("text-align","center");var i={top:20,right:30,bottom:60,left:40},o=400-i.left-i.right,s=350-i.top-i.bottom,a=70,c=Math.min(o,s)/2-10;let u,l="Continent";n==l?u=this.r_data:u=this.filtered_data;let d={},h=[...this.continents_list];for(let y of h)d[y]=10;for(let y of u)d[y[l]]+=1;console.log(d);var f=I("#title").append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform","translate("+(o/2+i.left)+","+(s/2+i.top)+")"),p=pt().domain(h.map(y=>y)).range([0,2*Math.PI]).align(0);let g=0;var m=er().range([a,c]).domain([0,Number(nt(h,y=>d[y]))]);let v=document.getElementById("tooltip");f.append("g").selectAll("path").data(h).enter().append("path").attr("fill","#69b3a2").attr("d",va().innerRadius(a).outerRadius(function(y){return m(d[y])}).startAngle(function(y){return Number(p(y))}).endAngle(function(y){return Number(p(y))+p.bandwidth()}).padAngle(.01).padRadius(a)).style("fill",y=>"rgb(31, 119, 180)").style("opacity",.7).on("mouseover",function(y,C){I(this).style("cursor","pointer"),v.innerHTML="No of Countries: "+(d[C]-10),v.style.display="block"}).on("mouseout",y=>{v.style.display="none"}).on("mousemove",y=>{v.style.left=y.x+10+"px",v.style.top=y.y+10+"px"}).on("click",(y,C)=>{C=="Oceania"?this.zoomTo("Australia"):this.zoomTo(C)}),f.append("g").selectAll("g").data(h).enter().append("g").attr("text-anchor",function(y){return(Number(p(y))+p.bandwidth()/2+Math.PI)%(2*Math.PI)<Math.PI?"end":"start"}).attr("transform",function(y){return"rotate("+((Number(p(y))+p.bandwidth()/2)*180/Math.PI-90)+")translate("+(m(d[y])+10)+",0)"}).append("text").text(function(y){return y}).attr("transform",function(y){return(Number(p(y))+p.bandwidth()/2+Math.PI)%(2*Math.PI)<Math.PI?"rotate(180)":"rotate(0)"}).style("font-size","11px").attr("alignment-baseline","middle")}updateMap(n,i,o){let s=this,a=this.filtered_data,c=[],u=[],l=document.getElementById("tooltip"),d=a.map(_=>+_[o]),h=ot(d),f=nt(d),p=["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],g=Xn().domain([h,f]).range(p),m=h<0?nr(Ao).domain([h,f]):Zn(ko).domain([h,f]),v={};a.forEach(_=>{a.length<200&&u.push(_["Country Code"]),v[_["Country Code"]]=+_[o]}),this.geoJsonLayer&&this.geoJsonLayer.remove(),import("./chunk-AJ323HCL.mjs").then(_=>{En=_,this.geoJsonLayer=En.geoJson(n,{style:b=>({fillColor:v[b.id]?m(v[b.id]):"white",weight:u.includes(b.id)?2:1,opacity:1,color:u.includes(b.id)?"rgb(31, 119, 180)":"grey",fillOpacity:.9,bringToFront:!0}),onEachFeature:function(b,A){A.on("click",function(){console.log("Country Code:",v[b.id]),s.radar_data.push(s.geo_id[b.id]),s.drawRadar(),c.length>=3&&s.geoJsonLayer.resetStyle(c.shift()),c.push(A),A.setStyle({weight:3,color:"rgb(31, 119, 180)",dashArray:"",fillOpacity:.9})}),A.on("mouseover",k=>{y(k,s.geoJsonLayer);let E=v[b.id];l.innerHTML=E?`${o}: ${E}`:"No data available",l.style.display="block"}),A.on("mouseout",k=>{C(k,s.geoJsonLayer),l.style.display="none"}),A.on("mousemove",k=>{l.style.left=k.originalEvent.pageX+10+"px",l.style.top=k.originalEvent.pageY+10+"px"})}}).addTo(this.map)});function y(_,b){b.eachLayer(function(A){console.log("fill"),A.setStyle({opacity:.1,fillOpacity:.5})}),_.target.setStyle({opacity:1,fillOpacity:.9}),_.target.bringToFront()}function C(_,b){b.eachLayer(function(A){A.setStyle({opacity:1,fillOpacity:.9})})}}zoomTo(n){this.filtered_data=[];let i=0;if(n=="Continent")this.filtered_data=this.r_data,this.pcp_data=this.r_data;else{n=="Australia"&&(n="Oceania");for(let s of this.r_data)s.Continent==n&&(this.filtered_data[i]=s,i++)}console.log(this.filtered_data),this.pcp_data=[...this.filtered_data],this.scatter_data=[...this.filtered_data],this.drawScatterplot(),this.plotpcp();let o=this.selectedColumn=="Continent"?"Population":this.selectedColumn;this.drawMap(this.geo_data,o),this.drawRadialChart("Continent"),this.drawRadar()}plotpcp(){I("#plotpcp").remove(),I("#d4").append("div").attr("id","plotpcp").append("h6").text("Parallel Coordinate Plot").style("text-align","center").append("div");var n={top:60,right:50,bottom:60,left:40},i=905-n.left-n.right,o=330-n.top-n.bottom,s=I("#plotpcp").append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");let a={},c={},u={},l={},d={},h=this.filtered_data;this.isdrag=[];let f=Ue(".2s");this.filtered_data.length<=1&&(h=this.r_data);for(let x in this.dimensions){let M=this.dimensions[x];if(!this.cat_options.includes(M))d[M]=q().domain($t(h,function(w){return+w[M]})).range([o,0]).nice();else{let w=this.r_data;d[M]=pt().domain(w.map((O,D)=>O[M])).range([o,0])}}h=this.filtered_data;let p=Te().range([-30,i+100]).padding(1).domain(this.dimensions);for(let x of this.dimensions)a[x]=p(x),u[x]=p(x),this.isdrag[x]=!1;let g=this;function m(x){return qt()(g.dimensions.map(function(M){return d[M].bandwidth?[Number(a[M]),d[M](x[M])+d[M].bandwidth()/2]:[Number(a[M]),d[M](x[M])]}))}let v=Se(ir),y=["skyblue","lightsalmon","lightgreen","green","orange","red","cornflowerblue","lightcoral","limegreen","mediumseagreen"];for(let x of this.continents_list){let M=this.continents_list.indexOf(x);v(M)}let C=s.selectAll("myPath").data(h).enter().append("path").attr("d",m).style("fill","none").style("stroke",(x,M)=>{let w=this.continents_list.indexOf(x.Continent);return v(w)}).style("opacity",.3),_=Ge().on("drag",function(x,M){if(g.isdrag[M]==!1)return;let w=x.x,O=g.dimensions.indexOf(M),D=g.dimensions[O],T=g.dimensions[O-1],S=g.dimensions[O+1];if(console.log(h[1].Price),w<u[T]){a[T]=u[D];let F=u[T],L=u[D];u[T]=L,u[D]=F;let z=g.dimensions[O-1],N=g.dimensions[O];g.dimensions[O]=z,g.dimensions[O-1]=N,console.log(g.dimensions),l[T].attr("transform","translate("+a[T]+",0)")}if(w>u[S]){a[S]=u[D];let F=u[S],L=u[D];u[S]=L,u[D]=F;let z=g.dimensions[O+1],N=g.dimensions[O];g.dimensions[O]=z,g.dimensions[O+1]=N,console.log(g.dimensions),l[S].attr("transform","translate("+a[S]+",0)")}console.log(M),I(this).attr("transform","translate("+w+",0)"),a[M]=x.x,s.selectAll("path").attr("d",function(F){return m(F)})}).on("end",function(x,M){g.isdrag[M]!=!1&&(I(this).attr("transform","translate("+u[M]+",0)"),a[M]=u[M],s.selectAll("path").attr("d",function(w){return m(w)}))}),b=(x,M)=>{this.filtered_data=this.pcp_data,console.log(c),Object.entries(c).length===0&&(console.log("entered"),s.selectAll("path:not(.domain)").style("opacity",function(w,O){return .3}));for(let w of this.dimensions)if(M=w,c[w]!=null){g.isdrag[M]=!1;let D=c[w].selection;if(!D)return;let[T,S]=D,F=function(z){let N=d[M].bandwidth?d[M](z[M])+d[M].bandwidth()/2:d[M](z[M]);return N>=T&&N<=S},L=this.filtered_data.filter(F);this.filtered_data=L,console.log(L),s.selectAll("path:not(.domain)").style("opacity",function(z,N){return L.includes(z)?.6:0})}this.drawScatterplot(),g.selectedColumn=="Continent"?(g.updateMap(g.geo_data,g.mapdata,"Population"),this.drawMap(this.geo_data,"Population")):(g.updateMap(g.geo_data,g.mapdata,g.selectedColumn),this.drawMap(this.geo_data,g.selectedColumn)),g.drawRadialChart("abc")},A,k=s.selectAll("myAxis").data(this.dimensions).enter().append("g").attr("transform",function(x,M){return"translate("+Number(p(x))+")"}).each(function(x,M){I(this).call(g.cat_options.includes(x)?J(d[x]):J(d[x]).tickFormat(f)).call(E(x)).call(_).append("foreignObject").attr("x",-0).attr("y",-35).attr("width",30).attr("height",30).append("xhtml:input").attr("type","checkbox").attr("class","check"+M).on("change",function(){if(g.sp_options[0]==x||g.sp_options[1]==x){I(".check"+M).property("checked",!0);return}g.sp_options.length==2&&(I(".check"+g.dimensions.indexOf(g.sp_options[0])).property("checked",!1),g.sp_options.shift()),g.sp_options.push(x),g.drawScatterplot()}),g.sp_options.includes(x)&&I(".check"+M).property("checked",!0),l[x]=I(this)}).append("text").style("text-anchor","middle").attr("y",-9).text(function(x){return x}).style("fill","black").on("mouseover",(x,M)=>{g.isdrag[M]=!0,console.log(this.isdrag)}).on("mouseout",(x,M)=>{});function E(x){return Gn().extent([[0,0],[20,o]]).on("brush",function(M){g.pcp_brushed=!0,c[x]=M,b(M,x)}).on("end",function(M){M.selection===null&&(g.pcp_brushed=!1,delete c[x],console.log(c),b(M,x))})}}reset(){this.zoomTo("Continent")}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt),P(le),P(_t))},e.\u0275cmp=mt({type:e,selectors:[["app-vizproj"]],standalone:!0,features:[yt([_t]),gt],decls:14,vars:0,consts:[["id","main",2,"top","17px","position","relative"],[2,"margin-left","30px","margin-top","1px"],[2,"display","flex","gap","10px","margin-top","10px"],["id","d3",2,"box-shadow","0px 0px 5px 5px rgba(0, 0, 0, 0.1)","background-color","white"],["id","d1",2,"box-shadow","0px 0px 5px 5px rgba(0, 0, 0, 0.1)","position","relative","background-color","white"],["id","d2",2,"box-shadow","0px 0px 5px 5px rgba(0, 0, 0, 0.1)","background-color","white","position","relative"],[2,"background-color","black","width","120px","height","120px","z-index","2000","position","absolute","top","123px","right","135px","border-radius","150px","opacity","0","display","none",3,"click"],["id","d5",2,"box-shadow","0px 0px 5px 5px rgba(0, 0, 0, 0.1)","background-color","white"],["id","d4",2,"box-shadow","0px 0px 5px 5px rgba(0, 0, 0, 0.1)","background-color","white"],["id","tooltip",2,"position","absolute","display","none","background","rgba(255, 255, 255, 0.8)","padding","5px","border","1px solid #ddd","pointer-events","none","z-index","1000"],["tooltip",""],["type","button","data-toggle","dropdown",1,"btn","btn-primary",2,"z-index","1000","position","absolute","width","100px","top","20px","right","56px",3,"click"]],template:function(i,o){i&1&&(V(0,"div",0)(1,"div",1)(2,"div",2),j(3,"div",3)(4,"div",4),V(5,"div",5)(6,"div",6),Q("click",function(){return o.reset()}),R()()(),V(7,"div",2),j(8,"div",7)(9,"div",8),R()()(),j(10,"div",9,10),V(12,"button",11),Q("click",function(){return o.reset()}),Z(13,` Reset
`),R())},dependencies:[Tt],styles:[".topnav[_ngcontent-%COMP%]{background-color:#333;overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000;cursor:pointer}.topnav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff}.high[_ngcontent-%COMP%]{padding-left:7px;text-decoration:auto;width:100%;display:block}.high[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#353131;cursor:pointer}.map-frame[_ngcontent-%COMP%], #map[_ngcontent-%COMP%]{height:100%}.tooltip-content[_ngcontent-%COMP%]{text-align:center}"]});let t=e;return t})();function v0(t,e){if(t&1){let r=Le();V(0,"li",3),Q("click",function(){Qt(r);let i=ft(2);return Jt(i.displayOptions())}),V(1,"a",13),Q("click",function(){let o=Qt(r).$implicit,s=ft(2);return Jt(s.selectOption(o))}),Z(2),R()()}if(t&2){let r=e.$implicit;B(2),Be(r)}}var y0=t=>({display:t});function b0(t,e){if(t&1){let r=Le();V(0,"div",8)(1,"button",9),Q("click",function(){Qt(r);let i=ft();return Jt(i.displayOptions())}),Z(2," x-axis "),j(3,"span",10),R(),V(4,"div",11),dt(5,v0,3,1,"li",12),R()()}if(t&2){let r=ft();B(4),$("ngStyle",on(2,y0,r.displayMenu==!0?"block":"none")),B(),$("ngForOf",r.bar_options)}}function x0(t,e){if(t&1&&(V(0,"div"),j(1,"app-bar",14),R()),t&2){let r=ft();B(),$("barOption",r.chartData)}}function w0(t,e){if(t&1&&(V(0,"div"),j(1,"app-histogram",14),R()),t&2){let r=ft();B(),$("barOption",r.chartData)}}function C0(t,e){t&1&&(V(0,"div"),j(1,"app-scatter"),R())}function M0(t,e){t&1&&(V(0,"div"),j(1,"app-screeplot"),R())}function E0(t,e){t&1&&(V(0,"div"),j(1,"app-mds-plot"),R())}function A0(t,e){t&1&&(V(0,"div"),j(1,"app-vizproj"),R())}var Dh=(()=>{let e=class e{constructor(n,i,o){this.elementRef=n,this.http=i,this.dataService=o,this.chartData="Hello from Parent!",this.flask_data="",this.cat_options=["Suburb","CouncilArea","SellerG","Regionname","Postcode","Type","Method","Address","Date"],this.num_options=["Rooms","Distance","Propertycount","Landsize","YearBuilt","Bathroom","Price","Car"],this.bar_options=["Suburb","CouncilArea","Car","Rooms",,"SellerG","Regionname","Type","Method","Price","Bathroom","Distance","Postcode","Propertycount","Landsize","YearBuilt"],this.displayMenu=!1,this.data={graph:"viz"}}ngOnInit(){typeof document<"u"&&this.loadData()}displayOptions(){this.displayMenu=!this.displayMenu}selectOption(n){this.chartData=n,this.cat_options.includes(n)?this.data.graph="bargraph":this.data.graph="histogram",console.log(this.chartData)}loadData(){this.http.get("assets/finalHousing.csv",{responseType:"text"}).subscribe(n=>{let i=Dt(n);i.forEach(o=>{this.cat_options.forEach(s=>{o.hasOwnProperty(s)&&delete o[s]})}),this.dataset=i})}changeOption(n){this.data.graph=n}sendData(){let n={key:"value",a:"1234",b:"defg"};this.dataService.sendData(this.dataset).subscribe(i=>{},i=>{console.error("Error:",i)})}};e.\u0275fac=function(i){return new(i||e)(P(et),P(wt),P(_t))},e.\u0275cmp=mt({type:e,selectors:[["app-root"]],standalone:!0,features:[yt([_t]),gt],decls:26,vars:17,consts:[[2,"background-color","rgba(0, 0, 0, 0.08)","padding-bottom","10px","padding-bottom","60px"],[2,"top","15px","position","relative","text-align","center","height","20px"],[1,"topnav",2,"margin","-8px","display","none"],[3,"click"],[2,"padding","10px"],["class","dropdown","style","display: none;",4,"ngIf"],[2,"margin-left","10px"],[4,"ngIf"],[1,"dropdown",2,"display","none"],["type","button","data-toggle","dropdown",1,"btn","btn-primary","dropdown-toggle",2,"width","160px",3,"click"],[1,"caret"],[1,"dropdown-menu",2,"padding","10px",3,"ngStyle"],[3,"click",4,"ngFor","ngForOf"],[1,"high",3,"click"],[3,"barOption"]],template:function(i,o){i&1&&(V(0,"div",0)(1,"div",1)(2,"h3"),Z(3,"Global Contrasts DashBorad"),R()(),V(4,"div",2)(5,"a",3),Q("click",function(){return o.changeOption("chart")}),Z(6,"Chart"),R(),V(7,"a",3),Q("click",function(){return o.changeOption("scatter")}),Z(8,"Scatterplot"),R(),V(9,"a",3),Q("click",function(){return o.changeOption("screeplot")}),Z(10,"LAB - 2"),R(),V(11,"a",3),Q("click",function(){return o.changeOption("mdsplot")}),Z(12,"LAB - 3"),R(),V(13,"a",3),Q("click",function(){return o.changeOption("viz")}),Z(14," viz "),R()(),j(15,"div",4),dt(16,b0,6,4,"div",5),V(17,"div",6),dt(18,x0,2,1,"div",7)(19,w0,2,1,"div",7)(20,C0,2,0,"div",7)(21,M0,2,0,"div",7)(22,E0,2,0,"div",7)(23,A0,2,0,"div",7),R(),j(24,"div")(25,"router-outlet"),R()),i&2&&(B(5),zt("active",o.data.graph=="chart"||o.data.graph=="bargraph"||o.data.graph=="histogram"),B(2),zt("active",o.data.graph=="scatter"),B(2),zt("active",o.data.graph=="screeplot"),B(2),zt("active",o.data.graph=="mdsplot"),B(2),zt("active",o.data.graph=="viz"),B(3),$("ngIf",o.data.graph!="scatter"&&o.data.graph!="mdsplot"),B(2),$("ngIf",o.data.graph=="bargraph"),B(),$("ngIf",o.data.graph=="histogram"),B(),$("ngIf",o.data.graph=="scatter"),B(),$("ngIf",o.data.graph=="screeplot"),B(),$("ngIf",o.data.graph=="mdsplot"),B(),$("ngIf",o.data.graph=="viz"))},dependencies:[al,de,nh,ue,Tt,Dn,te,Sn,Ch,Ah,Eh,kh,Ih],styles:[".topnav[_ngcontent-%COMP%]{background-color:#333;overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000;cursor:pointer}.topnav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff}.high[_ngcontent-%COMP%]{padding-left:7px;text-decoration:auto;width:100%;display:block}.high[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#353131;cursor:pointer}"]});let t=e;return t})();var Sh=[];var Th={providers:[ll(Sh),ol()]};var k0={providers:[sl()]},Oh=nl(Th,k0);var I0=()=>rl(Dh,Oh),P2=I0;export{P2 as a};
